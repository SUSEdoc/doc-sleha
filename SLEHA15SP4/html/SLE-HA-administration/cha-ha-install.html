<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><title>SLE HA 15 SP4 | Administration Guide | Installing SUSE Linux Enterprise High Availability</title><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/><link rel="stylesheet" type="text/css" href="static/css/style.css"/>
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"/><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/"/>
<meta name="title" content="Installing SUSE Linux Enterprise High Availability | SLE HA…"/>
<meta name="description" content="If you are setting up a High Availability cluster with…"/>
<meta name="product-name" content="SUSE Linux Enterprise High Availability"/>
<meta name="product-number" content="15 SP4"/>
<meta name="book-title" content="Administration Guide"/>
<meta name="chapter-title" content="Chapter 3. Installing SUSE Linux Enterprise High Availability"/>
<meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi"/>
<meta name="tracker-type" content="bsc"/>
<meta name="tracker-bsc-component" content="Documentation"/>
<meta name="tracker-bsc-product" content="PUBLIC SUSE Linux Enterprise High Availability Extension 15 SP4"/>
<meta name="publisher" content="SUSE"/><meta property="og:title" content="Installing SUSE Linux Enterprise High Availability | S…"/>
<meta property="og:description" content="If you are setting up a High Availability cluster with SUSE® Linux Enterprise High Availability for the first time, the easi…"/>
<meta property="og:type" content="article"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Installing SUSE Linux Enterprise High Availability | S…"/>
<meta name="twitter:description" content="If you are setting up a High Availability cluster with SUSE® Linux Enterprise High Availability for the first time, the easi…"/>
<link rel="prev" href="cha-ha-requirements.html" title="Chapter 2. System requirements and recommendations"/><link rel="next" href="cha-ha-ycluster.html" title="Chapter 4. Using the YaST cluster module"/><script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"/></noscript><script src="static/js/script-purejs.js" type="text/javascript"> </script><script src="static/js/highlight.min.js" type="text/javascript"> </script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script><meta name="edit-url" content="https://github.com/SUSE/doc-sleha/edit/main/xml/ha_install.xml"/></head><body class="draft wide offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-pagination">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><header id="_mainnav"><div class="growth-inhibitor"><img src="static/images/logo.svg" alt="Logo" class="logo"/></div></header><div class="crumbs"><div class="growth-inhibitor"><a class="crumb" href="index.html">Administration Guide</a><span> / </span><a class="crumb" href="part-install.html">Installation and setup</a><span> / </span><a class="crumb" href="cha-ha-install.html">Installing SUSE Linux Enterprise High Availability</a></div></div><main id="_content"><nav id="_side-toc-overall" class="side-toc"><div class="side-title">Administration Guide</div><ol><li><a href="pre-ha.html" class=" "><span class="title-number"> </span><span class="title-name">Preface</span></a></li><li class="active"><a href="part-install.html" class="has-children you-are-here"><span class="title-number">I </span><span class="title-name">Installation and setup</span></a><ol><li><a href="cha-ha-concepts.html" class=" "><span class="title-number">1 </span><span class="title-name">Product overview</span></a></li><li><a href="cha-ha-requirements.html" class=" "><span class="title-number">2 </span><span class="title-name">System requirements and recommendations</span></a></li><li><a href="cha-ha-install.html" class=" you-are-here"><span class="title-number">3 </span><span class="title-name">Installing SUSE Linux Enterprise High Availability</span></a></li><li><a href="cha-ha-ycluster.html" class=" "><span class="title-number">4 </span><span class="title-name">Using the YaST cluster module</span></a></li></ol></li><li><a href="part-config.html" class="has-children "><span class="title-number">II </span><span class="title-name">Configuration and administration</span></a><ol><li><a href="cha-ha-config-basics.html" class=" "><span class="title-number">5 </span><span class="title-name">Configuration and administration basics</span></a></li><li><a href="sec-ha-config-basics-resources.html" class=" "><span class="title-number">6 </span><span class="title-name">Configuring cluster resources</span></a></li><li><a href="sec-ha-config-basics-constraints.html" class=" "><span class="title-number">7 </span><span class="title-name">Configuring resource constraints</span></a></li><li><a href="cha-ha-manage-resources.html" class=" "><span class="title-number">8 </span><span class="title-name">Managing cluster resources</span></a></li><li><a href="sec-ha-config-basics-remote.html" class=" "><span class="title-number">9 </span><span class="title-name">Managing services on remote hosts</span></a></li><li><a href="cha-ha-agents.html" class=" "><span class="title-number">10 </span><span class="title-name">Adding or modifying resource agents</span></a></li><li><a href="cha-ha-monitor-clusters.html" class=" "><span class="title-number">11 </span><span class="title-name">Monitoring clusters</span></a></li><li><a href="cha-ha-fencing.html" class=" "><span class="title-number">12 </span><span class="title-name">Fencing and STONITH</span></a></li><li><a href="cha-ha-storage-protect.html" class=" "><span class="title-number">13 </span><span class="title-name">Storage protection and SBD</span></a></li><li><a href="cha-ha-qdevice.html" class=" "><span class="title-number">14 </span><span class="title-name">QDevice and QNetd</span></a></li><li><a href="cha-ha-acl.html" class=" "><span class="title-number">15 </span><span class="title-name">Access control lists</span></a></li><li><a href="cha-ha-netbonding.html" class=" "><span class="title-number">16 </span><span class="title-name">Network device bonding</span></a></li><li><a href="cha-ha-lb.html" class=" "><span class="title-number">17 </span><span class="title-name">Load balancing</span></a></li><li><a href="cha-ha-virtualization.html" class=" "><span class="title-number">18 </span><span class="title-name">High Availability for virtualization</span></a></li><li><a href="cha-ha-geo.html" class=" "><span class="title-number">19 </span><span class="title-name">Geo clusters (multi-site clusters)</span></a></li></ol></li><li><a href="part-storage.html" class="has-children "><span class="title-number">III </span><span class="title-name">Storage and data replication</span></a><ol><li><a href="cha-ha-storage-dlm.html" class=" "><span class="title-number">20 </span><span class="title-name">Distributed Lock Manager (DLM)</span></a></li><li><a href="cha-ha-ocfs2.html" class=" "><span class="title-number">21 </span><span class="title-name">OCFS2</span></a></li><li><a href="cha-ha-gfs2.html" class=" "><span class="title-number">22 </span><span class="title-name">GFS2</span></a></li><li><a href="cha-ha-drbd.html" class=" "><span class="title-number">23 </span><span class="title-name">DRBD</span></a></li><li><a href="cha-ha-clvm.html" class=" "><span class="title-number">24 </span><span class="title-name">Cluster logical volume manager (Cluster LVM)</span></a></li><li><a href="cha-ha-cluster-md.html" class=" "><span class="title-number">25 </span><span class="title-name">Cluster multi-device (Cluster MD)</span></a></li><li><a href="cha-ha-samba.html" class=" "><span class="title-number">26 </span><span class="title-name">Samba clustering</span></a></li><li><a href="cha-ha-rear.html" class=" "><span class="title-number">27 </span><span class="title-name">Disaster recovery with ReaR (Relax-and-Recover)</span></a></li></ol></li><li><a href="part-maintenance.html" class="has-children "><span class="title-number">IV </span><span class="title-name">Maintenance and upgrade</span></a><ol><li><a href="cha-ha-maintenance.html" class=" "><span class="title-number">28 </span><span class="title-name">Executing maintenance tasks</span></a></li><li><a href="cha-ha-migration.html" class=" "><span class="title-number">29 </span><span class="title-name">Upgrading your cluster and updating software packages</span></a></li></ol></li><li><a href="part-appendix.html" class="has-children "><span class="title-number">V </span><span class="title-name">Appendix</span></a><ol><li><a href="app-ha-troubleshooting.html" class=" "><span class="title-number">A </span><span class="title-name">Troubleshooting</span></a></li><li><a href="app-naming.html" class=" "><span class="title-number">B </span><span class="title-name">Naming conventions</span></a></li><li><a href="app-ha-management.html" class=" "><span class="title-number">C </span><span class="title-name">Cluster management tools (command line)</span></a></li><li><a href="app-crmreport-nonroot.html" class=" "><span class="title-number">D </span><span class="title-name">Running cluster reports without <code class="systemitem">root</code> access</span></a></li></ol></li><li><a href="gl-heartb.html" class=" "><span class="title-number"> </span><span class="title-name">Glossary</span></a></li><li><a href="bk02ape.html" class=" "><span class="title-number">E </span><span class="title-name">GNU licenses</span></a></li> </ol> </nav><button id="_open-side-toc-overall" title="Contents"> </button><article class="documentation"><button id="_unfold-side-toc-page">On this page</button><section class="chapter" id="cha-ha-install" data-id-title="Installing SUSE Linux Enterprise High Availability"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname">SUSE Linux Enterprise High Availability</span> <span class="productnumber">15 SP4</span></div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">3 </span><span class="title-name">Installing SUSE Linux Enterprise High Availability</span></span> <a title="Permalink" class="permalink" href="cha-ha-install.html#">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/main/xml/ha_install.xml" title="Edit source document"> </a></div></div></div><div><div class="abstract"><p>If you are setting up a High Availability cluster with SUSE® Linux Enterprise High Availability for the first time, the
    easiest way is to start with a basic two-node cluster. You can also use the
    two-node cluster to run some tests. Afterward, you can add more
    nodes by cloning existing cluster nodes with AutoYaST. The cloned nodes will
    have the same packages installed and the same system configuration as the
    original ones.
   </p><p>
    If you want to upgrade an existing cluster that runs an older version of
    SUSE Linux Enterprise High Availability, refer to <a class="xref" href="cha-ha-migration.html" title="Chapter 29. Upgrading your cluster and updating software packages">Chapter 29, <em>Upgrading your cluster and updating software packages</em></a>.
   </p></div></div></div></div><section class="sect1" id="sec-ha-install-manual" data-id-title="Manual installation"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">3.1 </span><span class="title-name">Manual installation</span></span> <a title="Permalink" class="permalink" href="cha-ha-install.html#sec-ha-install-manual">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/main/xml/ha_install.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   For the manual installation of the packages for High Availability refer to
   <span class="intraxref">Article “Installation and Setup Quick Start”</span>. It leads you through the setup of a
   basic two-node cluster.
  </p></section><section class="sect1" id="sec-ha-installation-autoyast" data-id-title="Mass installation and deployment with AutoYaST"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">3.2 </span><span class="title-name">Mass installation and deployment with AutoYaST</span></span> <a title="Permalink" class="permalink" href="cha-ha-install.html#sec-ha-installation-autoyast">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/main/xml/ha_install.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   After you have installed and set up a two-node cluster, you can extend the
   cluster by cloning existing nodes with AutoYaST and adding the clones to the cluster.
  </p><p>AutoYaST uses profiles that contains installation and configuration data.
   A profile tells AutoYaST what to install and how to configure the installed system to
   get a ready-to-use system in the end. This profile can then be used
   for mass deployment in different ways (for example, to clone existing
   cluster nodes).</p><p>
    For detailed instructions on how to use AutoYaST in various scenarios,
    see the <a class="link" href="https://documentation.suse.com/sles-15/html/SLES-all/book-autoyast.html" target="_blank">
     AutoYaST Guide for SUSE Linux Enterprise Server 15 SP4</a>.
   </p><div id="id-1.4.3.5.4.5" data-id-title="Identical hardware" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Identical hardware</div><p>
     <a class="xref" href="cha-ha-install.html#pro-ha-installation-clone-node" title="Cloning a cluster node with AutoYaST">Procedure 3.1, “Cloning a cluster node with AutoYaST”</a> assumes you are rolling
     out SUSE Linux Enterprise High Availability 15 SP4 to a set of machines with identical hardware
     configurations.
    </p><p>
     If you need to deploy cluster nodes on non-identical hardware, refer to the
     Deployment Guide for SUSE Linux Enterprise Server 15 SP4,
     chapter <em class="citetitle">Automated Installation</em>, section
     <em class="citetitle">Rule-Based Autoinstallation</em>.
    </p></div><div class="procedure" id="pro-ha-installation-clone-node" data-id-title="Cloning a cluster node with AutoYaST"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 3.1: </span><span class="title-name">Cloning a cluster node with AutoYaST </span></span><a title="Permalink" class="permalink" href="cha-ha-install.html#pro-ha-installation-clone-node">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/main/xml/ha_install.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Make sure the node you want to clone is correctly installed and
     configured. For details, see the Installation and Setup Quick Start or
     <a class="xref" href="cha-ha-ycluster.html" title="Chapter 4. Using the YaST cluster module">Chapter 4, <em>Using the YaST cluster module</em></a>.
    </p></li><li class="step"><p>
     Follow the description outlined in the SUSE Linux Enterprise
     15 SP4 Deployment Guide for simple mass
     installation. This includes the following basic steps:
    </p><ol type="a" class="substeps"><li class="step"><p>
       Creating an AutoYaST profile. Use the AutoYaST GUI to create and modify
       a profile based on the existing system configuration. In AutoYaST,
       choose the <span class="guimenu">High Availability</span> module and click the
       <span class="guimenu">Clone</span> button. If needed, adjust the configuration
       in the other modules and save the resulting control file as XML.
      </p><p>
       If you have configured DRBD, you can select and clone this module in
       the AutoYaST GUI, too.
      </p></li><li class="step"><p>
       Determining the source of the AutoYaST profile and the parameter to
       pass to the installation routines for the other nodes.
      </p></li><li class="step"><p>
       Determining the source of the SUSE Linux Enterprise Server and SUSE Linux Enterprise High Availability
       installation data.
      </p></li><li class="step"><p>
       Determining and setting up the boot scenario for autoinstallation.
      </p></li><li class="step"><p>
       Passing the command line to the installation routines, either by
       adding the parameters manually or by creating an
       <code class="filename">info</code> file.
      </p></li><li class="step"><p>
       Starting and monitoring the autoinstallation process.
      </p></li></ol></li></ol></div></div><p>
   After the clone has been successfully installed, execute the following
   steps to make the cloned node join the cluster:
  </p><div class="procedure" id="pro-ha-installation-clone-start" data-id-title="Bringing the cloned node online"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 3.2: </span><span class="title-name">Bringing the cloned node online </span></span><a title="Permalink" class="permalink" href="cha-ha-install.html#pro-ha-installation-clone-start">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/main/xml/ha_install.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Transfer the key configuration files from the already configured nodes
     to the cloned node with Csync2 as described in
     <a class="xref" href="cha-ha-ycluster.html#sec-ha-installation-setup-csync2" title="4.7. Transferring the configuration to all nodes">Section 4.7, “Transferring the configuration to all nodes”</a>.
    </p></li><li class="step"><p>
     To bring the node online, start the cluster services on the cloned
     node as described in <a class="xref" href="cha-ha-ycluster.html#sec-ha-installation-start" title="4.8. Bringing the cluster online">Section 4.8, “Bringing the cluster online”</a>.
    </p></li></ol></div></div><p>
   The cloned node will now join the cluster because the
   <code class="filename">/etc/corosync/corosync.conf</code> file has been applied to
   the cloned node via Csync2. The CIB is automatically synchronized
   among the cluster nodes.
  </p></section></section><nav class="bottom-pagination"><div><a class="pagination-link prev" href="cha-ha-requirements.html"><span class="pagination-relation">Previous</span><span class="pagination-label"><span class="title-number">Chapter 2 </span>System requirements and recommendations</span></a> </div><div><a class="pagination-link next" href="cha-ha-ycluster.html"><span class="pagination-relation">Next</span><span class="pagination-label"><span class="title-number">Chapter 4 </span>Using the YaST cluster module</span></a> </div></nav></article><aside id="_side-toc-page" class="side-toc"><div class="side-title">On this page</div><div class="toc"><ul><li><span class="sect1"><a href="cha-ha-install.html#sec-ha-install-manual"><span class="title-number">3.1 </span><span class="title-name">Manual installation</span></a></span></li><li><span class="sect1"><a href="cha-ha-install.html#sec-ha-installation-autoyast"><span class="title-number">3.2 </span><span class="title-name">Mass installation and deployment with AutoYaST</span></a></span></li></ul></div><div class="side-title">Share this page</div><ul class="share"><li><a id="_share-fb" href="#" title="Facebook"> </a></li><li><a id="_share-in" href="#" title="LinkedIn"> </a></li><li><a id="_share-tw" href="#" title="Twitter/X"> </a></li><li><a id="_share-mail" href="#" title="E-Mail"> </a></li><li><a id="_print-button" href="#" title="Print this page"> </a></li></ul> </aside></main><footer id="_footer"><div class="growth-inhibitor"><div class="copy"><span class="copy__rights">© SUSE
                 2024</span></div></div></footer></body></html>