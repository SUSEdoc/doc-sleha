<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/><title>SLEHA 15 | Administration Guide | Configuring and Managing Cluster Resources with Hawk2</title><link rel="stylesheet" type="text/css" href="static/css/style.css"/>
<meta name="title" content="Configuring and Managing Cluster Resources with Hawk2 …"/>
<meta name="description" content="To configure and manage cluster resources, either use Hawk2, or the crm shell (crmsh) command line utility. If you upgrade from an earlier version of…"/>
<meta name="product-name" content="SUSE Linux Enterprise High Availability Extension"/>
<meta name="product-number" content="15"/>
<meta name="book-title" content="Administration Guide"/>
<meta name="chapter-title" content="Chapter 6. Configuring and Managing Cluster Resources with Hawk2"/>
<meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi"/>
<meta name="tracker-type" content="bsc"/>
<meta name="tracker-bsc-component" content="Documentation"/>
<meta name="tracker-bsc-product" content="SUSE Linux Enterprise High Availability Extension 15"/>
<meta property="og:title" content="Configuring and Managing Cluster Resources with Hawk2 …"/>
<meta property="og:description" content="To configure and manage cluster resources, either use Hawk2, or the crm shell (crmsh) command line utility. If you upgrade from an earlier version of…"/>
<meta property="og:type" content="article"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Configuring and Managing Cluster Resources with Hawk2 …"/>
<meta name="twitter:description" content="To configure and manage cluster resources, either use Hawk2, or the crm shell (crmsh) command line utility. If you upgrade from an earlier version of…"/>
<link rel="prev" href="cha-ha-config-basics.html" title="Chapter 5. Configuration and Administration Basics"/><link rel="next" href="cha-ha-manual-config.html" title="Chapter 7. Configuring and Managing Cluster Resources (Command Line)"/>
<script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"/></noscript><script src="static/js/jquery-1.12.4.min.js" type="text/javascript"> </script><script src="static/js/script.js" type="text/javascript"> </script><script src="static/js/highlight.min.js" type="text/javascript"> </script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script><meta name="edit-url" content="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_config_hawk2.xml"/></head><body class="draft wide offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-pagination">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><header id="_mainnav"><div class="growth-inhibitor"><img src="static/images/logo.svg" alt="Logo" class="logo"/></div></header><div class="crumbs"><div class="growth-inhibitor"><a class="crumb" href="index.html">Administration Guide</a><span> / </span><a class="crumb" href="part-config.html">Configuration and Administration</a><span> / </span><a class="crumb" href="cha-conf-hawk2.html">Configuring and Managing Cluster Resources with Hawk2</a></div></div><main id="_content"><nav id="_side-toc-overall" class="side-toc"><div class="side-title"><em class="citetitle">Administration Guide</em></div><ol><li><a href="pre-ha.html" class=" "><span class="title-number"> </span><span class="title-name">About This Guide</span></a></li><li><a href="part-install.html" class="has-children "><span class="title-number">I </span><span class="title-name">Installation and Setup</span></a><ol><li><a href="cha-ha-concepts.html" class=" "><span class="title-number">1 </span><span class="title-name">Product Overview</span></a></li><li><a href="cha-ha-requirements.html" class=" "><span class="title-number">2 </span><span class="title-name">System Requirements and Recommendations</span></a></li><li><a href="cha-ha-install.html" class=" "><span class="title-number">3 </span><span class="title-name">Installing the High Availability Extension</span></a></li><li><a href="cha-ha-ycluster.html" class=" "><span class="title-number">4 </span><span class="title-name">Using the YaST Cluster Module</span></a></li></ol></li><li class="active"><a href="part-config.html" class="has-children you-are-here"><span class="title-number">II </span><span class="title-name">Configuration and Administration</span></a><ol><li><a href="cha-ha-config-basics.html" class=" "><span class="title-number">5 </span><span class="title-name">Configuration and Administration Basics</span></a></li><li><a href="cha-conf-hawk2.html" class=" you-are-here"><span class="title-number">6 </span><span class="title-name">Configuring and Managing Cluster Resources with Hawk2</span></a></li><li><a href="cha-ha-manual-config.html" class=" "><span class="title-number">7 </span><span class="title-name">Configuring and Managing Cluster Resources (Command Line)</span></a></li><li><a href="sec-ha-config-basics-remote.html" class=" "><span class="title-number">8 </span><span class="title-name">Managing Services on Remote Hosts</span></a></li><li><a href="cha-ha-agents.html" class=" "><span class="title-number">9 </span><span class="title-name">Adding or Modifying Resource Agents</span></a></li><li><a href="cha-ha-monitor-clusters.html" class=" "><span class="title-number">10 </span><span class="title-name">Monitoring Clusters</span></a></li><li><a href="cha-ha-fencing.html" class=" "><span class="title-number">11 </span><span class="title-name">Fencing and STONITH</span></a></li><li><a href="cha-ha-storage-protect.html" class=" "><span class="title-number">12 </span><span class="title-name">Storage Protection and SBD</span></a></li><li><a href="cha-ha-qdevice.html" class=" "><span class="title-number">13 </span><span class="title-name">QDevice and QNetd</span></a></li><li><a href="cha-ha-acl.html" class=" "><span class="title-number">14 </span><span class="title-name">Access Control Lists</span></a></li><li><a href="cha-ha-netbonding.html" class=" "><span class="title-number">15 </span><span class="title-name">Network Device Bonding</span></a></li><li><a href="cha-ha-lb.html" class=" "><span class="title-number">16 </span><span class="title-name">Load Balancing</span></a></li><li><a href="cha-ha-geo.html" class=" "><span class="title-number">17 </span><span class="title-name">Geo Clusters (Multi-Site Clusters)</span></a></li></ol></li><li><a href="part-storage.html" class="has-children "><span class="title-number">III </span><span class="title-name">Storage and Data Replication</span></a><ol><li><a href="cha-ha-storage-dlm.html" class=" "><span class="title-number">18 </span><span class="title-name">Distributed Lock Manager (DLM)</span></a></li><li><a href="cha-ha-ocfs2.html" class=" "><span class="title-number">19 </span><span class="title-name">OCFS2</span></a></li><li><a href="cha-ha-gfs2.html" class=" "><span class="title-number">20 </span><span class="title-name">GFS2</span></a></li><li><a href="cha-ha-drbd.html" class=" "><span class="title-number">21 </span><span class="title-name">DRBD</span></a></li><li><a href="cha-ha-clvm.html" class=" "><span class="title-number">22 </span><span class="title-name">Cluster Logical Volume Manager (Cluster LVM)</span></a></li><li><a href="cha-ha-cluster-md.html" class=" "><span class="title-number">23 </span><span class="title-name">Cluster Multi-device (Cluster MD)</span></a></li><li><a href="cha-ha-samba.html" class=" "><span class="title-number">24 </span><span class="title-name">Samba Clustering</span></a></li><li><a href="cha-ha-rear.html" class=" "><span class="title-number">25 </span><span class="title-name">Disaster Recovery with ReaR (Relax-and-Recover)</span></a></li></ol></li><li><a href="part-maintenance.html" class="has-children "><span class="title-number">IV </span><span class="title-name">Maintenance and Upgrade</span></a><ol><li><a href="cha-ha-maintenance.html" class=" "><span class="title-number">26 </span><span class="title-name">Executing Maintenance Tasks</span></a></li><li><a href="cha-ha-migration.html" class=" "><span class="title-number">27 </span><span class="title-name">Upgrading Your Cluster and Updating Software Packages</span></a></li></ol></li><li><a href="part-appendix.html" class="has-children "><span class="title-number">V </span><span class="title-name">Appendix</span></a><ol><li><a href="app-ha-troubleshooting.html" class=" "><span class="title-number">A </span><span class="title-name">Troubleshooting</span></a></li><li><a href="app-naming.html" class=" "><span class="title-number">B </span><span class="title-name">Naming Conventions</span></a></li><li><a href="app-ha-management.html" class=" "><span class="title-number">C </span><span class="title-name">Cluster Management Tools (Command Line)</span></a></li><li><a href="app-crmreport-nonroot.html" class=" "><span class="title-number">D </span><span class="title-name">Running Cluster Reports Without <code class="systemitem">root</code> Access</span></a></li></ol></li><li><a href="gl-heartb.html" class=" "><span class="title-number"> </span><span class="title-name">Glossary</span></a></li><li><a href="bk02ape.html" class=" "><span class="title-number">E </span><span class="title-name">GNU Licenses</span></a></li> </ol> </nav><button id="_open-side-toc-overall" title="Contents"> </button><article class="documentation"><button id="_unfold-side-toc-page">On this page</button><section class="chapter" id="cha-conf-hawk2" data-id-title="Configuring and Managing Cluster Resources with Hawk2"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname">SUSE Linux Enterprise High Availability Extension</span> <span class="productnumber">15</span></div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">6 </span><span class="title-name">Configuring and Managing Cluster Resources with Hawk2</span></span> <a title="Permalink" class="permalink" href="cha-conf-hawk2.html#">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_config_hawk2.xml" title="Edit source document"> </a></div></div></div><div><div class="abstract"><p>
    To configure and manage cluster resources, either use Hawk2, or
    the crm shell (crmsh) command line utility. If you upgrade from an
    earlier version of SUSE® Linux Enterprise High Availability Extension where Hawk was installed, the package
    will be replaced with the current version, Hawk2.
   </p><p>
    Hawk2's user-friendly Web interface allows you to monitor and administer
    your High Availability clusters from Linux or non-Linux machines alike. Hawk2 can be
    accessed from any machine inside or outside of the cluster by using a
    (graphical) Web browser.
   </p></div></div></div></div><section class="sect1" id="sec-conf-hawk2-req" data-id-title="Hawk2 Requirements"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">6.1 </span><span class="title-name">Hawk2 Requirements</span></span> <a title="Permalink" class="permalink" href="cha-conf-hawk2.html#sec-conf-hawk2-req">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_config_hawk2.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Before users can log in to Hawk2, the following requirements need to be
   fulfilled:
  </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.4.4.4.3.3.1"><span class="term"><span class="package">hawk2</span> Package</span></dt><dd><p>
      The <span class="package">hawk2</span> package must be installed on all
      cluster nodes you want to connect to with Hawk2.
     </p></dd><dt id="id-1.4.4.4.3.3.2"><span class="term">Web Browser</span></dt><dd><p>
      On the machine from which to access a cluster node using
      Hawk2, you need a (graphical) Web browser (with JavaScript and
      cookies enabled) to establish the connection.
     </p></dd><dt id="id-1.4.4.4.3.3.3"><span class="term">Hawk2 Service</span></dt><dd><p>
      To use Hawk2, the respective Web service must be started on
      the node that you want to connect to via the Web interface. See <a class="xref" href="cha-conf-hawk2.html#pro-ha-hawk2-service" title="Starting Hawk2 Services">Procedure 6.1, “Starting Hawk2 Services”</a>.
     </p><p>
      If you have set up your cluster with the scripts from the
       <code class="systemitem">ha-cluster-bootstrap</code> package,
      the Hawk2 service is already enabled.
     </p></dd><dt id="id-1.4.4.4.3.3.4"><span class="term">Username, Group and Password on Each Cluster Node</span></dt><dd><p>
      Hawk2 users must be members of the <code class="systemitem">haclient</code> group. The installation creates a
      Linux user named <code class="systemitem">hacluster</code>, who
      is added to the <code class="systemitem">haclient</code> group.
     </p><p>
      When using the <code class="command">ha-cluster-init</code> script for setup,
      a default password is set for the <code class="systemitem">hacluster</code> user. Before starting Hawk2, change it to a
      secure password. If you did not use the <code class="command">ha-cluster-init</code>
      script, either set a password for the <code class="systemitem">hacluster</code> first or create a new user which is a member of
      the <code class="systemitem">haclient</code> group. Do this on
      every node you will connect to with Hawk2.
     </p></dd><dt id="id-1.4.4.4.3.3.5"><span class="term">Wildcard certificate handling</span></dt><dd><p>
      A wildcard certificate is a public key certificate which is valid for
      multiple sub-domains. For example, a wildcard certificate for
      <code class="systemitem">*.example.com</code> secures the domains
      <code class="systemitem">www.example.com</code>,
      <code class="systemitem">login.example.com</code>,
      and possibly more.
     </p><p>
      Hawk2 supports wildcard certificates as well as conventional certificates.
      A self-signed default private key and certificate is generated by
      <code class="filename">/srv/www/hawk/bin/generate-ssl-cert</code>.
     </p><p>
      To use your own certificate (conventional or wildcard), replace the
      generated certificate at <code class="filename">/etc/ssl/certs/hawk.pem</code>
      with your own.
     </p></dd></dl></div><div class="procedure" id="pro-ha-hawk2-service" data-id-title="Starting Hawk2 Services"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 6.1: </span><span class="title-name">Starting Hawk2 Services </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#pro-ha-hawk2-service">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_config_hawk2.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     On the node you want to connect to, open a shell and log in as <code class="systemitem">root</code>.
    </p></li><li class="step"><p>
     Check the status of the service by entering
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">systemctl</code> status hawk</pre></div></li><li class="step"><p>
     If the service is not running, start it with
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">systemctl</code> start hawk</pre></div><p>
     If you want Hawk2 to start automatically at boot time, execute the
     following command:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">systemctl</code> enable hawk</pre></div></li></ol></div></div></section><section class="sect1" id="sec-conf-hawk2-login" data-id-title="Logging In"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">6.2 </span><span class="title-name">Logging In</span></span> <a title="Permalink" class="permalink" href="cha-conf-hawk2.html#sec-conf-hawk2-login">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_config_hawk2.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The Hawk2 Web interface uses the HTTPS protocol and port
   <code class="literal">7630</code>.
  </p><p>
   Instead of logging in to an individual cluster node with Hawk2, you can
   configure a floating, virtual IP address (<code class="literal">IPaddr</code> or
   <code class="literal">IPaddr2</code>) as a cluster resource. It does not need any
   special configuration. It allows clients to connect to the Hawk service no
   matter which physical node the service is running on.
  </p><p>
   When setting up the cluster with the
   <code class="systemitem">ha-cluster-bootstrap</code> scripts,
   you will be asked whether to configure a virtual IP for cluster
   administration.
  </p><div class="procedure" id="pro-ha-hawk2-login" data-id-title="Logging In to the Hawk2 Web Interface"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 6.2: </span><span class="title-name">Logging In to the Hawk2 Web Interface </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#pro-ha-hawk2-login">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_config_hawk2.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     On any machine, start a Web browser and enter the following URL:
    </p><div class="verbatim-wrap"><pre class="screen">https://<em class="replaceable">HAWKSERVER</em>:7630/</pre></div><p>
     Replace <em class="replaceable">HAWKSERVER</em> with the IP address or host
     name of any cluster node running the Hawk Web service. If a virtual IP
     address has been configured for cluster administration with Hawk2,
     replace <em class="replaceable">HAWKSERVER</em> with the virtual IP address.
    </p><div id="id-1.4.4.4.4.5.2.4" data-id-title="Certificate Warning" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Certificate Warning</div><p>
      If a certificate warning appears when you try to access the URL for the
      first time, a self-signed certificate is in use. Self-signed certificates
      are not considered trustworthy by default.
     </p><p>
      To verify the certificate, ask your cluster operator for the certificate
      details.
     </p><p>
      To proceed anyway, you can add an exception in the browser to bypass the
      warning.
     </p><p>
      For information on how to replace the self-signed certificate with a
      certificate signed by an official Certificate Authority, refer to
      <a class="xref" href="app-ha-troubleshooting.html#vle-trouble-hawk2-cert">Replacing the Self-Signed Certificate</a>.
     </p></div></li><li class="step"><p>
     On the Hawk2 login screen, enter the <span class="guimenu">Username</span> and
     <span class="guimenu">Password</span> of the
     <code class="systemitem">hacluster</code> user (or of any other
     user that is a member of the
     <code class="systemitem">haclient</code> group).
    </p></li><li class="step"><p>
     Click <span class="guimenu">Log In</span>.
    </p></li></ol></div></div></section><section class="sect1" id="sec-conf-hawk2-overview" data-id-title="Hawk2 Overview: Main Elements"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">6.3 </span><span class="title-name">Hawk2 Overview: Main Elements</span></span> <a title="Permalink" class="permalink" href="cha-conf-hawk2.html#sec-conf-hawk2-overview">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_config_hawk2.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   After logging in to Hawk2, you will see a navigation bar on the left-hand
   side and a top-level row with several links on the right-hand side.
  </p><div id="id-1.4.4.4.5.3" data-id-title="Available Functions in Hawk2" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Available Functions in Hawk2</div><p>
    By default, users logged in as <code class="systemitem">root</code> or
    <code class="systemitem">hacluster</code> have full
    read-write access to all cluster configuration tasks. However,
    <a class="xref" href="cha-ha-acl.html" title="Chapter 14. Access Control Lists"><em>Access Control Lists</em></a> (ACLs) can be used to
    define fine-grained access permissions.
   </p><p>
    If ACLs are enabled in the CRM, the available functions in Hawk2 depend
    on the user role and their assigned access permissions. The
    <span class="guimenu">History Explorer</span> in Hawk2 can only be executed by the
    user <code class="systemitem">hacluster</code>.
   </p></div><section class="sect2" id="sec-conf-hawk2-overview-leftnav" data-id-title="Left Navigation Bar"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.3.1 </span><span class="title-name">Left Navigation Bar</span></span> <a title="Permalink" class="permalink" href="cha-conf-hawk2.html#sec-conf-hawk2-overview-leftnav">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_config_hawk2.xml" title="Edit source document"> </a></div></div></div></div></div><div class="variablelist"><dl class="variablelist"><dt id="id-1.4.4.4.5.4.2.1"><span class="term"><span class="guimenu">Monitoring</span>
     </span></dt><dd><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
         <span class="guimenu">Status</span>: Displays the current cluster status at a
         glance (similar to <code class="command">crm status</code> on the crmsh). For
         details, see <a class="xref" href="cha-ha-monitor-clusters.html#sec-conf-hawk2-manage-monitor-status" title="10.1.1. Monitoring a Single Cluster">Section 10.1.1, “Monitoring a Single Cluster”</a>.
         The screen refreshes in near real-time: any status changes for nodes
         or resources are visible almost immediately.
        </p></li><li class="listitem"><p>
         <span class="guimenu">Dashboard</span>: Allows you to monitor multiple clusters
         (also located on different sites, in case you have a Geo cluster
         setup). For details, see
         <a class="xref" href="cha-ha-monitor-clusters.html#sec-conf-hawk2-manage-monitor-dash" title="10.1.2. Monitoring Multiple Clusters">Section 10.1.2, “Monitoring Multiple Clusters”</a>. The screen
         refreshes in near real-time: any status changes for nodes or resources
         are visible almost immediately.
        </p></li></ul></div></dd><dt id="id-1.4.4.4.5.4.2.2"><span class="term"><span class="guimenu">Troubleshooting</span>
     </span></dt><dd><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
         <span class="guimenu">History</span>: Opens the <span class="guimenu">History
         Explorer</span> from which you can generate cluster reports. For
         details, see <a class="xref" href="cha-ha-monitor-clusters.html#sec-conf-hawk2-history" title="10.3. Viewing the Cluster History">Section 10.3, “Viewing the Cluster History”</a>.
        </p></li><li class="listitem"><p>
         <span class="guimenu">Command Log</span>: Lists the crmsh commands recently
         executed by Hawk2.
        </p></li></ul></div></dd><dt id="id-1.4.4.4.5.4.2.3"><span class="term">Configuration</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
         <span class="guimenu">Add Resource</span>: Opens the resource configuration
         screen. For details, see <a class="xref" href="cha-conf-hawk2.html#sec-conf-hawk2-rsc" title="6.5. Configuring Cluster Resources">Section 6.5, “Configuring Cluster Resources”</a>. </p></li><li class="listitem"><p>
         <span class="guimenu">Add Constraint</span>: Opens the constraint configuration
         screen. For details, see <a class="xref" href="cha-conf-hawk2.html#sec-conf-hawk2-cons" title="6.6. Configuring Constraints">Section 6.6, “Configuring Constraints”</a>. </p></li><li class="listitem"><p>
         <span class="guimenu">Wizards</span>: Allows you to select from several wizards
         that guide you through the creation of resources for a certain
         workload, for example, a DRBD block device. For details, see <a class="xref" href="cha-conf-hawk2.html#sec-conf-hawk2-rsc-wizard" title="6.5.2. Adding Resources with the Wizard">Section 6.5.2, “Adding Resources with the Wizard”</a>. </p></li><li class="listitem"><p>
         <span class="guimenu">Edit Configuration</span>: Allows you to edit resources,
         constraints, node names and attributes, tags, <a class="link" href="http://crmsh.github.io/man/#cmdhelp_configure_alert" target="_blank">alerts</a>,
         and <a class="link" href="http://crmsh.github.io/man/#cmdhelp_configure_fencing_topology" target="_blank">fencing
         topologies</a>.
         </p></li><li class="listitem"><p>
         <span class="guimenu">Cluster Configuration</span>: Allows you to modify global
         cluster options and resource and operation defaults. For details, see
          <a class="xref" href="cha-conf-hawk2.html#sec-conf-hawk2-cluster-config" title="6.4. Configuring Global Cluster Options">Section 6.4, “Configuring Global Cluster Options”</a>. </p></li><li class="listitem"><p>
         <span class="guimenu">Access Control</span> › <span class="guimenu">Roles</span>: Opens a screen where you can create roles for access
         control lists (sets of rules describing access rights to the CIB). For
         details, see <a class="xref" href="cha-ha-acl.html#pro-ha-acl-hawk2-role" title="Adding a Monitor Role with Hawk2">Procedure 14.2, “Adding a Monitor Role with Hawk2”</a>. </p></li><li class="listitem"><p>
         <span class="guimenu">Access Control</span> › <span class="guimenu">Targets</span>: Opens a screen where you can create targets (system
         users) for access control lists and assign roles to them. For details,
         see <a class="xref" href="cha-ha-acl.html#pro-ha-acl-hawk2-target" title="Assigning a Role to a Target with Hawk2">Procedure 14.3, “Assigning a Role to a Target with Hawk2”</a>. </p></li></ul></div></dd></dl></div></section><section class="sect2" id="sec-conf-hawk2-overview-toprow" data-id-title="Top-Level Row"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.3.2 </span><span class="title-name">Top-Level Row</span></span> <a title="Permalink" class="permalink" href="cha-conf-hawk2.html#sec-conf-hawk2-overview-toprow">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_config_hawk2.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    Hawk2's top-level row shows the following entries:
   </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
      <span class="guimenu">Batch</span>: Click to switch to batch mode. This allows you
      to simulate and stage changes and to apply them as a single transaction.
      For details, see <a class="xref" href="cha-conf-hawk2.html#sec-conf-hawk2-batch" title="6.8. Using the Batch Mode">Section 6.8, “Using the Batch Mode”</a>.
     </p></li><li class="listitem"><p>
      <span class="guimenu"><em class="replaceable">USERNAME</em></span>: Allows you to set
      preferences for Hawk2 (for example, the language for the Web interface,
      or whether to display a warning if STONITH is disabled).
     </p></li><li class="listitem"><p>
      <span class="guimenu">Help</span>: Access the SUSE Linux Enterprise High Availability Extension documentation, read the
      release notes or report a bug.
     </p></li><li class="listitem"><p>
      <span class="guimenu">Logout</span>: Click to log out.
     </p></li></ul></div></section></section><section class="sect1" id="sec-conf-hawk2-cluster-config" data-id-title="Configuring Global Cluster Options"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">6.4 </span><span class="title-name">Configuring Global Cluster Options</span></span> <a title="Permalink" class="permalink" href="cha-conf-hawk2.html#sec-conf-hawk2-cluster-config">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_config_hawk2.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Global cluster options control how the cluster behaves when confronted with
   certain situations. They are grouped into sets and can be viewed and
   modified with cluster management tools like Hawk2 and crmsh. The
   predefined values can usually be kept. However, to ensure the key functions
   of your cluster work correctly, you need to adjust the following parameters
   after basic cluster setup:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     <a class="xref" href="cha-ha-config-basics.html#sec-ha-config-basics-global-quorum" title="5.2.2. Global Option no-quorum-policy">Global Option <code class="literal">no-quorum-policy</code></a>
    </p></li><li class="listitem"><p>
     <a class="xref" href="cha-ha-config-basics.html#sec-ha-config-basics-global-stonith" title="5.2.3. Global Option stonith-enabled">Global Option <code class="literal">stonith-enabled</code></a>
    </p></li></ul></div><div class="procedure" id="pro-conf-hawk2-global" data-id-title="Modifying Global Cluster Options"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 6.3: </span><span class="title-name">Modifying Global Cluster Options </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#pro-conf-hawk2-global">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_config_hawk2.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Log in to Hawk2:
    </p><div class="verbatim-wrap"><pre class="screen">https://<em class="replaceable">HAWKSERVER</em>:7630/</pre></div></li><li class="step"><p>
     From the left navigation bar, select <span class="guimenu">Configuration</span> › <span class="guimenu">Cluster Configuration</span>.
    </p><p>
     The <span class="guimenu">Cluster Configuration</span> screen opens. It displays the
     global cluster options and their current values.
    </p><p>
     To display a short description of the parameter on the right-hand side of
     the screen, hover your mouse over a parameter.
     
    </p><div class="figure" id="id-1.4.4.4.6.4.3.4"><div class="figure-contents"><div class="mediaobject"><a href="images/hawk2-cluster-config.png"><img src="images/hawk2-cluster-config.png" width="100%" alt="Hawk2—Cluster Configuration" title="Hawk2—Cluster Configuration"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 6.1: </span><span class="title-name">Hawk2—Cluster Configuration </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#id-1.4.4.4.6.4.3.4">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_config_hawk2.xml" title="Edit source document"> </a></div></div></div></li><li class="step"><p>
     Check the values for <span class="guimenu">no-quorum-policy</span> and
     <span class="guimenu">stonith-enabled</span> and adjust them, if necessary:
    </p><ol type="a" class="substeps"><li class="step"><p>
       Set <span class="guimenu">no-quorum-policy</span> to the appropriate value. See
       <a class="xref" href="cha-ha-config-basics.html#sec-ha-config-basics-global-quorum" title="5.2.2. Global Option no-quorum-policy">Section 5.2.2, “Global Option <code class="literal">no-quorum-policy</code>”</a> for more details.
      </p></li><li class="step"><p>
       If you need to disable fencing for any reason, set
       <span class="guimenu">stonith-enabled</span> to <code class="literal">no</code>. By default,
       it is set to <code class="literal">true</code>, because using STONITH devices is
       necessary for normal cluster operation. According to the
       default value, the cluster will refuse to start any resources if no
       STONITH resources have been configured.
      </p><div id="id-1.4.4.4.6.4.4.2.2.2" data-id-title="No Support Without STONITH" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: No Support Without STONITH</div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>You must have a node fencing
        mechanism for your cluster.</p></li><li class="listitem"><p>The global cluster options
          <code class="systemitem">stonith-enabled</code> and
          <code class="systemitem">startup-fencing</code> must be set to
          <code class="literal">true</code>.
          When you change them, you lose support.</p></li></ul></div></div></li><li class="step"><p>
       To remove a parameter from the cluster configuration, click the
       <span class="guimenu">Minus</span> icon next to the parameter. If a parameter is
       deleted, the cluster will behave as if that parameter had the default
       value.
      </p></li><li class="step"><p>
       To add a new parameter to the cluster configuration, choose one from the
       drop-down box.
      </p></li></ol></li><li class="step"><p>
     If you need to change <span class="guimenu">Resource Defaults</span> or
     <span class="guimenu">Operation Defaults</span>, proceed as follows:
    </p><ol type="a" class="substeps"><li class="step"><p>
       To adjust a value, either select a different value from the drop-down
       box or edit the value directly.
      </p></li><li class="step"><p>
       To add a new resource default or operation default, choose one from the
       empty drop-down box and enter a
       value. If there are default values, Hawk2 proposes them automatically.
      </p></li><li class="step"><p>
       To remove a parameter, click the <span class="guimenu">Minus</span> icon next to
       it. If no values are specified for <span class="guimenu">Resource Defaults</span>
       and <span class="guimenu">Operation Defaults</span>, the cluster uses the default
       values that are documented in
       <a class="xref" href="cha-ha-config-basics.html#sec-ha-config-basics-meta-attr" title="5.3.6. Resource Options (Meta Attributes)">Section 5.3.6, “Resource Options (Meta Attributes)”</a> and
       <a class="xref" href="cha-ha-config-basics.html#sec-ha-config-basics-operations" title="5.3.8. Resource Operations">Section 5.3.8, “Resource Operations”</a>.
      </p></li></ol></li><li class="step"><p>
     Confirm your changes.
    </p></li></ol></div></div></section><section class="sect1" id="sec-conf-hawk2-rsc" data-id-title="Configuring Cluster Resources"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">6.5 </span><span class="title-name">Configuring Cluster Resources</span></span> <a title="Permalink" class="permalink" href="cha-conf-hawk2.html#sec-conf-hawk2-rsc">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_rsc_i.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  A cluster administrator needs to create cluster resources for every resource
  or application that runs on the servers in your cluster. Cluster resources
  can include Web sites, mail servers, databases, file systems, virtual
  machines, and any other server-based applications or services you want to
  make available to users at all times.
 </p><p>
  For an overview of the resource types you can create, refer to
  <a class="xref" href="cha-ha-config-basics.html#sec-ha-config-basics-resources-types" title="5.3.3. Types of Resources">Section 5.3.3, “Types of Resources”</a>. After you have
  specified the resource basics (ID, class, provider, and type), Hawk2 shows
  the following categories:
 </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.4.4.4.7.5.1"><span class="term">Parameters (Instance Attributes)</span></dt><dd><p>
     Determines which instance of a service the resource controls. For more
     information, refer to <a class="xref" href="cha-ha-config-basics.html#sec-ha-config-basics-inst-attr" title="5.3.7. Instance Attributes (Parameters)">Section 5.3.7, “Instance Attributes (Parameters)”</a>.
    </p><p>
     When creating a resource, Hawk2 automatically shows any required
     parameters. Edit them to get a valid resource configuration.
    </p></dd><dt id="id-1.4.4.4.7.5.2"><span class="term">Operations</span></dt><dd><p>
     Needed for resource monitoring. For more information, refer to
     <a class="xref" href="cha-ha-config-basics.html#sec-ha-config-basics-operations" title="5.3.8. Resource Operations">Section 5.3.8, “Resource Operations”</a>.
    </p><p>
     When creating a resource, Hawk2 displays the most important resource
     operations (<code class="literal">monitor</code>, <code class="literal">start</code>, and
     <code class="literal">stop</code>).
    </p></dd><dt id="id-1.4.4.4.7.5.3"><span class="term">Meta Attributes</span></dt><dd><p>
     Tells the CRM how to treat a specific resource. For more information,
     refer to <a class="xref" href="cha-ha-config-basics.html#sec-ha-config-basics-meta-attr" title="5.3.6. Resource Options (Meta Attributes)">Section 5.3.6, “Resource Options (Meta Attributes)”</a>.
    </p><p>
     When creating a resource, Hawk2 automatically lists the important meta
     attributes for that resource (for example, the
     <code class="literal">target-role</code> attribute that defines the initial state of
     a resource. By default, it is set to <code class="literal">Stopped</code>, so the
     resource will not start immediately).
    </p></dd><dt id="id-1.4.4.4.7.5.4"><span class="term">Utilization</span></dt><dd><p>
     Tells the CRM what capacity a certain resource requires from a node. For
     more information, refer to
     <a class="xref" href="cha-conf-hawk2.html#sec-config-hawk2-utilization" title="6.6.8. Configuring Placement of Resources Based on Load Impact">Section 6.6.8, “Configuring Placement of Resources Based on Load Impact”</a>.
    </p></dd></dl></div><p>
  You can adjust the entries and values in those categories either during
  resource creation or later.
 </p><section class="sect2" id="sec-conf-hawk2-rsc-show" data-id-title="Showing the Current Cluster Configuration (CIB)"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.5.1 </span><span class="title-name">Showing the Current Cluster Configuration (CIB)</span></span> <a title="Permalink" class="permalink" href="cha-conf-hawk2.html#sec-conf-hawk2-rsc-show">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_rsc_i.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Sometimes a cluster administrator needs to know the cluster configuration.
   Hawk2 can show the current configuration in crm shell syntax, as XML and
   as a graph. To view the cluster configuration in crm shell syntax, from the
   left navigation bar select <span class="guimenu">Configuration</span> › <span class="guimenu">Edit Configuration</span> and click
   <span class="guimenu">Show</span>. To show the configuration in raw XML instead, click
   <span class="guimenu">XML</span>. Click <span class="guimenu">Graph</span> for a graphical
   representation of the nodes and resources configured in the CIB. It also
   shows the relationships between resources.
  </p></section><section class="sect2" id="sec-conf-hawk2-rsc-wizard" data-id-title="Adding Resources with the Wizard"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.5.2 </span><span class="title-name">Adding Resources with the Wizard</span></span> <a title="Permalink" class="permalink" href="cha-conf-hawk2.html#sec-conf-hawk2-rsc-wizard">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_rsc_i.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The Hawk2 wizard is a convenient way of setting up simple resources like a
   virtual IP address or an SBD STONITH resource, for example. It is
   also useful for complex configurations that include multiple resources,
   like the resource configuration for a DRBD block device or an Apache Web
   server. The wizard guides you through the configuration steps and provides
   information about the parameters you need to enter.
  </p><div class="procedure" id="pro-conf-hawk2-wizard" data-id-title="Using the Resource Wizard"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 6.4: </span><span class="title-name">Using the Resource Wizard </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#pro-conf-hawk2-wizard">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_rsc_i.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Log in to Hawk2:
    </p><div class="verbatim-wrap"><pre class="screen">https://<em class="replaceable">HAWKSERVER</em>:7630/</pre></div></li><li class="step"><p>
     From the left navigation bar, select <span class="guimenu">Configuration</span> › <span class="guimenu">Wizards</span>.
    </p></li><li class="step"><p>
     Expand the individual categories by clicking the arrow down icon next to
     them and select the desired wizard.
    </p></li><li class="step"><p>
     Follow the instructions on the screen. After the last configuration step,
     <span class="guimenu">Verify</span> the values you have entered.
    </p><p>
     Hawk2 shows which actions it is going to perform and what the
     configuration looks like. Depending on the configuration, you might be
     prompted for the <code class="systemitem">root</code> password before you can
     <span class="guimenu">Apply</span> the configuration.
    </p></li></ol></div></div><div class="figure" id="id-1.4.4.4.7.8.4"><div class="figure-contents"><div class="mediaobject"><a href="images/hawk2-wizard-apache.png"><img src="images/hawk2-wizard-apache.png" width="100%" alt="Hawk2—Wizard for Apache Web Server" title="Hawk2—Wizard for Apache Web Server"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 6.2: </span><span class="title-name">Hawk2—Wizard for Apache Web Server </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#id-1.4.4.4.7.8.4">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_rsc_i.xml" title="Edit source document"> </a></div></div></div></section><section class="sect2" id="sec-conf-hawk2-rsc-primitive" data-id-title="Adding Simple Resources"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.5.3 </span><span class="title-name">Adding Simple Resources</span></span> <a title="Permalink" class="permalink" href="cha-conf-hawk2.html#sec-conf-hawk2-rsc-primitive">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_rsc_i.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   To create the most basic type of resource, proceed as follows:
  </p><div class="procedure" id="pro-conf-hawk2-primitive-add" data-id-title="Adding a Primitive Resource"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 6.5: </span><span class="title-name">Adding a Primitive Resource </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#pro-conf-hawk2-primitive-add">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_rsc_i.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Log in to Hawk2:
    </p><div class="verbatim-wrap"><pre class="screen">https://<em class="replaceable">HAWKSERVER</em>:7630/</pre></div></li><li class="step"><p>
     From the left navigation bar, select <span class="guimenu">Configuration</span> › <span class="guimenu">Add
     Resource</span> › <span class="guimenu">Primitive</span>.
    </p></li><li class="step"><p>
     Enter a unique <span class="guimenu">Resource ID</span>.
    </p></li><li class="step"><p>
     In case a resource template exists on which you want to base the resource
     configuration, select the respective <span class="guimenu">Template</span>. For
     details about configuring templates, see
     <a class="xref" href="cha-conf-hawk2.html#pro-conf-hawk2-template-add" title="Adding a Resource Template">Procedure 6.6, “Adding a Resource Template”</a>.
    </p></li><li class="step" id="step-ha-config-hawk2-primitive-start"><p>
     Select the resource agent <span class="guimenu">Class</span> you want to use:
     <code class="literal">lsb</code>, <code class="literal">ocf</code>,
     <code class="literal">service</code>, <code class="literal">stonith</code>, or
     <code class="literal">systemd</code>. For more information, see
     <a class="xref" href="cha-ha-config-basics.html#sec-ha-config-basics-raclasses" title="5.3.2. Supported Resource Agent Classes">Section 5.3.2, “Supported Resource Agent Classes”</a>.
    </p></li><li class="step"><p>
     If you selected <code class="literal">ocf</code> as class, specify the
     <span class="guimenu">Provider</span> of your OCF resource agent. The OCF
     specification allows multiple vendors to supply the same resource agent.
    </p></li><li class="step"><p>
     From the <span class="guimenu">Type</span> list, select the resource agent you want
     to use (for example, <span class="guimenu">IPaddr</span> or
     <span class="guimenu">Filesystem</span>). A short description for this resource
     agent is displayed.
    </p><p>
     With that, you have specified the resource basics.
    </p><div id="id-1.4.4.4.7.9.3.8.3" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note</div><p>
      The selection you get in the <span class="guimenu">Type</span> list depends on the
      <span class="guimenu">Class</span> (and for OCF resources also on the
      <span class="guimenu">Provider</span>) you have chosen.
     </p></div><div class="figure" id="id-1.4.4.4.7.9.3.8.4"><div class="figure-contents"><div class="mediaobject"><a href="images/hawk2-primitive-basic.png"><img src="images/hawk2-primitive-basic.png" width="100%" alt="Hawk2—Primitive Resource" title="Hawk2—Primitive Resource"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 6.3: </span><span class="title-name">Hawk2—Primitive Resource </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#id-1.4.4.4.7.9.3.8.4">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_rsc_i.xml" title="Edit source document"> </a></div></div></div></li><li class="step"><p>
     To keep the <span class="guimenu">Parameters</span>, <span class="guimenu">Operations</span>,
     and <span class="guimenu">Meta Attributes</span> as suggested by Hawk2, click
     <span class="guimenu">Create</span> to finish the configuration. A message at the
     top of the screen shows if the action has been successful.
    </p><p>
     To adjust the parameters, operations, or meta attributes, refer to
     <a class="xref" href="cha-conf-hawk2.html#sec-conf-hawk2-rsc-modify" title="6.5.5. Modifying Resources">Section 6.5.5, “Modifying Resources”</a>. To configure
     <span class="guimenu">Utilization</span> attributes for the resource, see
     <a class="xref" href="cha-conf-hawk2.html#pro-hawk2-utilization-rsc" title="Configuring the Capacity a Resource Requires">Procedure 6.21, “Configuring the Capacity a Resource Requires”</a>.
    </p></li></ol></div></div></section><section class="sect2" id="sec-conf-hawk2-rsc-template" data-id-title="Adding Resource Templates"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.5.4 </span><span class="title-name">Adding Resource Templates</span></span> <a title="Permalink" class="permalink" href="cha-conf-hawk2.html#sec-conf-hawk2-rsc-template">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_rsc_i.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   To create lots of resources with similar configurations,
   defining a resource template is the easiest way. After being defined, it can
   be referenced in primitives or in certain types of constraints. For detailed
   information about function and use of resource templates, refer to
   <a class="xref" href="cha-ha-config-basics.html#sec-ha-config-basics-constraints-templates" title="5.5.3. Resource Templates and Constraints">Section 5.5.3, “Resource Templates and Constraints”</a>.
  </p><div class="procedure" id="pro-conf-hawk2-template-add" data-id-title="Adding a Resource Template"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 6.6: </span><span class="title-name">Adding a Resource Template </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#pro-conf-hawk2-template-add">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_rsc_i.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><p>
    Resource templates are configured like primitive resources.
   </p><ol class="procedure" type="1"><li class="step"><p>
     Log in to Hawk2:
    </p><div class="verbatim-wrap"><pre class="screen">https://<em class="replaceable">HAWKSERVER</em>:7630/</pre></div></li><li class="step"><p>
     From the left navigation bar, select <span class="guimenu">Configuration</span> › <span class="guimenu">Add Resource</span> › <span class="guimenu">Template</span>.
    </p></li><li class="step"><p>
     Enter a unique <span class="guimenu">Resource ID</span>.
    </p></li><li class="step"><p>
     Follow the instructions in <a class="xref" href="cha-conf-hawk2.html#pro-conf-hawk2-primitive-add" title="Adding a Primitive Resource">Procedure 6.5, “Adding a Primitive Resource”</a>,
     starting from
     <a class="xref" href="cha-conf-hawk2.html#step-ha-config-hawk2-primitive-start" title="Step 5">Step 5</a>.
    </p></li></ol></div></div></section><section class="sect2" id="sec-conf-hawk2-rsc-modify" data-id-title="Modifying Resources"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.5.5 </span><span class="title-name">Modifying Resources</span></span> <a title="Permalink" class="permalink" href="cha-conf-hawk2.html#sec-conf-hawk2-rsc-modify">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_rsc_i.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   If you have created a resource, you can edit its configuration at any time
   by adjusting parameters, operations, or meta attributes as needed.
  </p><div class="procedure" id="pro-conf-hawk2-rsc-modify" data-id-title="Modifying Parameters, Operations, or Meta Attributes for a Resource"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 6.7: </span><span class="title-name">Modifying Parameters, Operations, or Meta Attributes for a Resource </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#pro-conf-hawk2-rsc-modify">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_rsc_i.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Log in to Hawk2:
    </p><div class="verbatim-wrap"><pre class="screen">https://<em class="replaceable">HAWKSERVER</em>:7630/</pre></div></li><li class="step"><p>
     On the Hawk2 <span class="guimenu">Status</span> screen, go to the
     <span class="guimenu">Resources</span> list.
    </p></li><li class="step"><p>
     In the <span class="guimenu">Operations</span> column, click the arrow down icon
     next to the resource or group you want to modify and select
     <span class="guimenu">Edit</span>.
    </p><p>
     The resource configuration screen opens.
    </p><div class="figure" id="id-1.4.4.4.7.11.3.4.3"><div class="figure-contents"><div class="mediaobject"><a href="images/hawk2-primitive-edit.png"><img src="images/hawk2-primitive-edit.png" width="100%" alt="Hawk2—Editing A Primitive Resource" title="Hawk2—Editing A Primitive Resource"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 6.4: </span><span class="title-name">Hawk2—Editing A Primitive Resource </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#id-1.4.4.4.7.11.3.4.3">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_rsc_i.xml" title="Edit source document"> </a></div></div></div></li><li class="step" id="step-hawk2-rsc-modify-params"><p>
     To add a new parameter, operation, or meta attribute, select an entry from
     the empty drop-down box.
    </p></li><li class="step"><p>
     To edit any values in the <span class="guimenu">Operations</span> category, click
     the <span class="guimenu">Edit</span> icon of the respective entry, enter a
     different value for the operation, and click <span class="guimenu">Apply</span>.
    </p></li><li class="step"><p>
     When you are finished, click the <span class="guimenu">Apply</span> button in the
     resource configuration screen to confirm your changes to the parameters,
     operations, or meta attributes.
    </p><p>
     A message at the top of the screen shows if the action has been
     successful.
    </p></li></ol></div></div></section><section class="sect2" id="sec-conf-hawk2-rsc-stonith" data-id-title="Adding STONITH Resources"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.5.6 </span><span class="title-name">Adding STONITH Resources</span></span> <a title="Permalink" class="permalink" href="cha-conf-hawk2.html#sec-conf-hawk2-rsc-stonith">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_rsc_i.xml" title="Edit source document"> </a></div></div></div></div></div><div id="id-1.4.4.4.7.12.2" data-id-title="No Support Without STONITH" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: No Support Without STONITH</div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>You must have a node fencing
        mechanism for your cluster.</p></li><li class="listitem"><p>The global cluster options
          <code class="systemitem">stonith-enabled</code> and
          <code class="systemitem">startup-fencing</code> must be set to
          <code class="literal">true</code>.
          When you change them, you lose support.</p></li></ul></div></div><p>
   By default, the global cluster option <code class="literal">stonith-enabled</code> is
   set to <code class="literal">true</code>. If no STONITH resources have been defined,
   the cluster will refuse to start any resources. Configure one or more
   STONITH resources to complete the STONITH setup. To add a STONITH
   resource for SBD, for libvirt (KVM/Xen) or for vCenter/ESX Server, the
   easiest way is to use the Hawk2 wizard (see
   <a class="xref" href="cha-conf-hawk2.html#sec-conf-hawk2-rsc-wizard" title="6.5.2. Adding Resources with the Wizard">Section 6.5.2, “Adding Resources with the Wizard”</a>). While STONITH resources
   are configured similarly to other resources, their behavior is different in
   some respects. For details refer to <a class="xref" href="cha-ha-fencing.html#sec-ha-fencing-config" title="11.3. STONITH Resources and Configuration">Section 11.3, “STONITH Resources and Configuration”</a>.
  </p><div class="procedure" id="pro-conf-hawk2-stonith" data-id-title="Adding a STONITH Resource"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 6.8: </span><span class="title-name">Adding a STONITH Resource </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#pro-conf-hawk2-stonith">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_rsc_i.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Log in to Hawk2:
    </p><div class="verbatim-wrap"><pre class="screen">https://<em class="replaceable">HAWKSERVER</em>:7630/</pre></div></li><li class="step"><p>
     From the left navigation bar, select <span class="guimenu">Configuration</span> › <span class="guimenu">Add
     Resource</span> › <span class="guimenu">Primitive</span>.
    </p></li><li class="step"><p>
     Enter a unique <span class="guimenu">Resource ID</span>.
    </p></li><li class="step"><p>
     From the <span class="guimenu">Class</span> list, select the resource agent class
     <span class="guimenu">stonith</span>.
    </p></li><li class="step"><p>
     From the <span class="guimenu">Type</span> list, select the STONITH plug-in to
     control your STONITH device. A short description for this plug-in is
     displayed.
    </p></li><li class="step"><p>
     Hawk2 automatically shows the required <span class="guimenu">Parameters</span> for
     the resource. Enter values for each parameter.
    </p></li><li class="step"><p>
     Hawk2 displays the most important resource <span class="guimenu">Operations</span>
     and proposes default values. If you do not modify any settings here,
     Hawk2 adds the proposed operations and their default values when you
     confirm.
    </p></li><li class="step"><p>
     If there is no reason to change them, keep the default <span class="guimenu">Meta
     Attributes</span> settings.
    </p><div class="figure" id="id-1.4.4.4.7.12.4.9.2"><div class="figure-contents"><div class="mediaobject"><a href="images/hawk2-primitive-stonith.png"><img src="images/hawk2-primitive-stonith.png" width="100%" alt="Hawk2—STONITH Resource" title="Hawk2—STONITH Resource"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 6.5: </span><span class="title-name">Hawk2—STONITH Resource </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#id-1.4.4.4.7.12.4.9.2">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_rsc_i.xml" title="Edit source document"> </a></div></div></div></li><li class="step"><p>
     Confirm your changes to create the STONITH resource.
    </p><p>
     A message at the top of the screen shows if the action has been
     successful.
    </p></li></ol></div></div><p>
   To complete your fencing configuration, add constraints. For more details,
   refer to <a class="xref" href="cha-ha-fencing.html" title="Chapter 11. Fencing and STONITH">Chapter 11, <em>Fencing and STONITH</em></a>.
  </p></section><section class="sect2" id="sec-conf-hawk2-rsc-group" data-id-title="Adding Cluster Resource Groups"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.5.7 </span><span class="title-name">Adding Cluster Resource Groups</span></span> <a title="Permalink" class="permalink" href="cha-conf-hawk2.html#sec-conf-hawk2-rsc-group">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_rsc_i.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Some cluster resources depend on other components or resources. They require
   that each component or resource starts in a specific order and runs on the
   same server. To simplify this configuration SUSE Linux Enterprise High Availability Extension supports the
   concept of groups.
  </p><p>
   Resource groups contain a set of resources that need to be located together,
   be started sequentially and stopped in the reverse order. For an example of
   a resource group and more information about groups and their properties,
   refer to
   <a class="xref" href="cha-ha-config-basics.html#sec-ha-config-basics-resources-advanced-groups" title="5.3.5.1. Groups">Section 5.3.5.1, “Groups”</a>.
  </p><div id="id-1.4.4.4.7.13.4" data-id-title="Empty Groups" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Empty Groups</div><p>
    Groups must contain at least one resource, otherwise the configuration is
    not valid. While creating a group, Hawk2 allows you to create more
    primitives and add them to the group. For details, see
    <a class="xref" href="cha-conf-hawk2.html#sec-conf-hawk2-manage-edit" title="6.7.1. Editing Resources and Groups">Section 6.7.1, “Editing Resources and Groups”</a>.
   </p></div><div class="procedure" id="pro-conf-hawk2-group" data-id-title="Adding a Resource Group"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 6.9: </span><span class="title-name">Adding a Resource Group </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#pro-conf-hawk2-group">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_rsc_i.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Log in to Hawk2:
    </p><div class="verbatim-wrap"><pre class="screen">https://<em class="replaceable">HAWKSERVER</em>:7630/</pre></div></li><li class="step"><p>
     From the left navigation bar, select <span class="guimenu">Configuration</span> › <span class="guimenu">Add Resource</span> › <span class="guimenu">Group</span>.
    </p></li><li class="step"><p>
     Enter a unique <span class="guimenu">Group ID</span>.
    </p></li><li class="step"><p>
     To define the group members, select one or multiple entries in the list of
     <span class="guimenu">Children</span>. Re-sort group members by dragging and
     dropping them into the order you want by using the <span class="quote">“<span class="quote">handle</span>”</span>
     icon on the right.
    </p></li><li class="step"><p>
     If needed, modify or add <span class="guimenu">Meta Attributes</span>.
    </p></li><li class="step"><p>
     Click <span class="guimenu">Create</span> to finish the configuration. A message at
     the top of the screen shows if the action has been successful.
    </p></li></ol></div></div><div class="figure" id="id-1.4.4.4.7.13.6"><div class="figure-contents"><div class="mediaobject"><a href="images/hawk2-rsc-group.png"><img src="images/hawk2-rsc-group.png" width="100%" alt="Hawk2—Resource Group" title="Hawk2—Resource Group"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 6.6: </span><span class="title-name">Hawk2—Resource Group </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#id-1.4.4.4.7.13.6">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_rsc_i.xml" title="Edit source document"> </a></div></div></div></section><section class="sect2" id="sec-conf-hawk2-rsc-clone" data-id-title="Adding Clone Resources"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.5.8 </span><span class="title-name">Adding Clone Resources</span></span> <a title="Permalink" class="permalink" href="cha-conf-hawk2.html#sec-conf-hawk2-rsc-clone">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_rsc_i.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   If you want certain resources to run simultaneously on multiple nodes in
   your cluster, configure these resources as clones. An example of a resource
   that can be configured as a clone is
   <code class="literal">ocf:pacemaker:controld</code> for cluster file systems like
   OCFS2. Any regular resources or resource groups can be cloned. Instances of
   cloned resources may behave identically. However, they may also be
   configured differently, depending on which node they are hosted on.
  </p><p>
   For an overview of the available types of resource clones, refer to
   <a class="xref" href="cha-ha-config-basics.html#sec-ha-config-basics-resources-advanced-clones" title="5.3.5.2. Clones">Section 5.3.5.2, “Clones”</a>.
  </p><div id="id-1.4.4.4.7.14.4" data-id-title="Child Resources for Clones" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Child Resources for Clones</div><p>
    Clones can either contain a primitive or a group as child resources. In
    Hawk2, child resources cannot be created or modified while creating a
    clone. Before adding a clone, create child resources and configure them as
    desired. For details, refer to
    <a class="xref" href="cha-conf-hawk2.html#sec-conf-hawk2-rsc-primitive" title="6.5.3. Adding Simple Resources">Section 6.5.3, “Adding Simple Resources”</a> or
    <a class="xref" href="cha-conf-hawk2.html#sec-conf-hawk2-rsc-group" title="6.5.7. Adding Cluster Resource Groups">Section 6.5.7, “Adding Cluster Resource Groups”</a>.
   </p></div><div class="procedure" id="pro-conf-hawk2-clone" data-id-title="Adding a Clone Resource"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 6.10: </span><span class="title-name">Adding a Clone Resource </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#pro-conf-hawk2-clone">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_rsc_i.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Log in to Hawk2:
    </p><div class="verbatim-wrap"><pre class="screen">https://<em class="replaceable">HAWKSERVER</em>:7630/</pre></div></li><li class="step"><p>
     From the left navigation bar, select <span class="guimenu">Configuration</span> › <span class="guimenu">Add Resource</span> › <span class="guimenu">Clone</span>.
    </p></li><li class="step"><p>
     Enter a unique <span class="guimenu">Clone ID</span>.
    </p></li><li class="step"><p>
     From the <span class="guimenu">Child Resource</span> list, select the primitive or
     group to use as a sub-resource for the clone.
    </p></li><li class="step"><p>
     If needed, modify or add <span class="guimenu">Meta Attributes</span>.
    </p></li><li class="step"><p>
     Click <span class="guimenu">Create</span> to finish the configuration. A message at
     the top of the screen shows if the action has been successful.
    </p></li></ol></div></div><div class="figure" id="id-1.4.4.4.7.14.6"><div class="figure-contents"><div class="mediaobject"><a href="images/hawk2-clone.png"><img src="images/hawk2-clone.png" width="100%" alt="Hawk2—Clone Resource" title="Hawk2—Clone Resource"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 6.7: </span><span class="title-name">Hawk2—Clone Resource </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#id-1.4.4.4.7.14.6">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_rsc_i.xml" title="Edit source document"> </a></div></div></div></section><section class="sect2" id="sec-conf-hawk2-rsc-ms" data-id-title="Adding Multi-state Resources"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.5.9 </span><span class="title-name">Adding Multi-state Resources</span></span> <a title="Permalink" class="permalink" href="cha-conf-hawk2.html#sec-conf-hawk2-rsc-ms">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_rsc_i.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Multi-state resources are a specialization of clones. They allow the
   instances to be in one of two operating modes (called
   <code class="literal">active/passive</code>, <code class="literal">primary/secondary</code>, or
   <code class="literal">master/slave</code>). Multi-state resources must contain exactly
   one group or one regular resource.
  </p><p>
   When configuring resource monitoring or constraints, multi-state resources
   have different requirements than simple resources. For details, see
    <em class="citetitle">Pacemaker Explained</em>, available from
   <a class="link" href="http://www.clusterlabs.org/pacemaker/doc/" target="_blank">http://www.clusterlabs.org/pacemaker/doc/</a>. Refer to section
   <em class="citetitle">Multi-state - Resources That Have Multiple Modes</em>.
  </p><div id="id-1.4.4.4.7.15.4" data-id-title="Child Resources for Multi-state Resources" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Child Resources for Multi-state Resources</div><p>
    Multi-state resources can either contain a primitive or a group as child
    resources. In Hawk2, child resources cannot be created or modified while
    creating a multi-state resource. Before adding a multi-state resource,
    create child resources and configure them as desired. For details, refer to
    <a class="xref" href="cha-conf-hawk2.html#sec-conf-hawk2-rsc-primitive" title="6.5.3. Adding Simple Resources">Section 6.5.3, “Adding Simple Resources”</a> or
    <a class="xref" href="cha-conf-hawk2.html#sec-conf-hawk2-rsc-group" title="6.5.7. Adding Cluster Resource Groups">Section 6.5.7, “Adding Cluster Resource Groups”</a>.
   </p></div><div class="procedure" id="pro-conf-hawk2-ms" data-id-title="Adding a Multi-state Resource"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 6.11: </span><span class="title-name">Adding a Multi-state Resource </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#pro-conf-hawk2-ms">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_rsc_i.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Log in to Hawk2:
    </p><div class="verbatim-wrap"><pre class="screen">https://<em class="replaceable">HAWKSERVER</em>:7630/</pre></div></li><li class="step"><p>
     From the left navigation bar, select <span class="guimenu">Configuration</span> › <span class="guimenu">Add Resource</span> › <span class="guimenu">Multi-state</span>.
    </p></li><li class="step"><p>
     Enter a unique <span class="guimenu">Multi-state ID</span>.
    </p></li><li class="step"><p>
     From the <span class="guimenu">Child Resource</span> list, select the primitive or
     group to use as a sub-resource for the multi-state resource.
    </p></li><li class="step"><p>
     If needed, modify or add <span class="guimenu">Meta Attributes</span>.
    </p></li><li class="step"><p>
     Click <span class="guimenu">Create</span> to finish the configuration. A message at
     the top of the screen shows if the action has been successful.
    </p></li></ol></div></div><div class="figure" id="id-1.4.4.4.7.15.6"><div class="figure-contents"><div class="mediaobject"><a href="images/hawk2-multi-state.png"><img src="images/hawk2-multi-state.png" width="100%" alt="Hawk2—Multi-state Resource" title="Hawk2—Multi-state Resource"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 6.8: </span><span class="title-name">Hawk2—Multi-state Resource </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#id-1.4.4.4.7.15.6">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_rsc_i.xml" title="Edit source document"> </a></div></div></div></section><section class="sect2" id="sec-conf-hawk2-rsc-tag" data-id-title="Grouping Resources by Using Tags"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.5.10 </span><span class="title-name">Grouping Resources by Using Tags</span></span> <a title="Permalink" class="permalink" href="cha-conf-hawk2.html#sec-conf-hawk2-rsc-tag">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_rsc_i.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Tags are a way to refer to multiple resources at once, without creating any
   colocation or ordering relationship between them. You can use tags for
   grouping conceptually related resources. For example, if you have several
   resources related to a database, you can add all related resources to a tag
   named <code class="literal">database</code>.
  </p><p>
   All resources belonging to a tag can be started or stopped with a single
   command.
  </p><div class="procedure" id="pro-conf-hawk2-tag" data-id-title="Adding a Tag"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 6.12: </span><span class="title-name">Adding a Tag </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#pro-conf-hawk2-tag">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_rsc_i.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Log in to Hawk2:
    </p><div class="verbatim-wrap"><pre class="screen">https://<em class="replaceable">HAWKSERVER</em>:7630/</pre></div></li><li class="step"><p>
     From the left navigation bar, select <span class="guimenu">Configuration</span> › <span class="guimenu">Add
     Resource</span> › <span class="guimenu">Tag</span>.
    </p></li><li class="step"><p>
     Enter a unique <span class="guimenu">Tag ID</span>.
    </p></li><li class="step"><p>
     From the <span class="guimenu">Objects</span> list, select the resources you want to
     refer to with the tag.
    </p></li><li class="step"><p>
     Click <span class="guimenu">Create</span> to finish the configuration. A message at
     the top of the screen shows if the action has been successful.
    </p></li></ol></div></div><div class="figure" id="id-1.4.4.4.7.16.5"><div class="figure-contents"><div class="mediaobject"><a href="images/hawk2-tag.png"><img src="images/hawk2-tag.png" width="100%" alt="Hawk2—Tag" title="Hawk2—Tag"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 6.9: </span><span class="title-name">Hawk2—Tag </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#id-1.4.4.4.7.16.5">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_rsc_i.xml" title="Edit source document"> </a></div></div></div></section><section class="sect2" id="sec-conf-hawk2-rsc-monitor" data-id-title="Configuring Resource Monitoring"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.5.11 </span><span class="title-name">Configuring Resource Monitoring</span></span> <a title="Permalink" class="permalink" href="cha-conf-hawk2.html#sec-conf-hawk2-rsc-monitor">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_rsc_i.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The High Availability Extension does not only detect node failures, but also when an individual
   resource on a node has failed. If you want to ensure that a resource is
   running, configure resource monitoring for it. Usually, resources are only
   monitored by the cluster while they are running. However, to detect
   concurrency violations, also configure monitoring for resources which are
   stopped. For resource monitoring, specify a timeout and/or start delay
   value, and an interval. The interval tells the CRM how often it should check
   the resource status. You can also set particular parameters such as
   <code class="literal">timeout</code> for <code class="literal">start</code> or
   <code class="literal">stop</code> operations.
  </p><div class="procedure" id="pro-hawk2-operations" data-id-title="Adding and Modifying an Operation"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 6.13: </span><span class="title-name">Adding and Modifying an Operation </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#pro-hawk2-operations">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_rsc_i.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Log in to Hawk2:
    </p><div class="verbatim-wrap"><pre class="screen">https://<em class="replaceable">HAWKSERVER</em>:7630/</pre></div></li><li class="step"><p>
     Add a resource as described in
     <a class="xref" href="cha-conf-hawk2.html#pro-conf-hawk2-primitive-add" title="Adding a Primitive Resource">Procedure 6.5, “Adding a Primitive Resource”</a> or select an existing
     primitive to edit.
    </p><p>
     Hawk2 automatically shows the most important
     <span class="guimenu">Operations</span> (<code class="literal">start</code>,
     <code class="literal">stop</code>, <code class="literal">monitor</code>) and proposes default
     values.
    </p><p>
     To see the attributes belonging to each proposed value, hover the mouse
     pointer over the respective value.
    </p><div class="informalfigure"><div class="mediaobject"><a href="images/hawk2-monitor-op.png"><img src="images/hawk2-monitor-op.png" width="60%" alt="Image" title="Image"/></a></div></div></li><li class="step"><p>
     To change the suggested <code class="literal">timeout</code> values for the
     <code class="literal">start</code> or <code class="literal">stop</code> operation:
    </p><ol type="a" class="substeps"><li class="step"><p>
       Click the pen icon next to the operation.
      </p></li><li class="step"><p>
       In the dialog that opens, enter a different value for the
       <code class="literal">timeout</code> parameter, for example <code class="literal">10</code>,
       and confirm your change.
      </p></li></ol></li><li class="step"><p>
     To change the suggested <span class="guimenu">interval</span> value for the
     <code class="literal">monitor</code> operation:
    </p><ol type="a" class="substeps"><li class="step"><p>
       Click the pen icon next to the operation.
      </p></li><li class="step"><p>
       In the dialog that opens, enter a different value for the monitoring
       <code class="literal">interval</code>.
      </p></li><li class="step"><p>
       To configure resource monitoring in the case that the resource is
       stopped:
      </p><ol type="i" class="substeps"><li class="step"><p>
         Select the <code class="literal">role</code> entry from the empty drop-down box
         below.
        </p></li><li class="step"><p>
         From the <code class="literal">role</code> drop-down box, select
         <code class="literal">Stopped</code>.
        </p></li><li class="step"><p>
         Click <span class="guimenu">Apply</span> to confirm your changes and to close
         the dialog for the operation.
        </p></li></ol></li></ol></li><li class="step"><p>
     Confirm your changes in the resource configuration screen. A message at
     the top of the screen shows if the action has been successful.
    </p></li></ol></div></div><p>
   For the processes that take place if the resource monitor detects a failure,
   refer to <a class="xref" href="cha-ha-config-basics.html#sec-ha-config-basics-monitoring" title="5.4. Resource Monitoring">Section 5.4, “Resource Monitoring”</a>.
  </p><p>
   To view resource failures, switch to the <span class="guimenu">Status</span> screen in
   Hawk2 and select the resource you are interested in. In the
   <span class="guimenu">Operations</span> column click the arrow down icon and select
   <span class="guimenu">Recent Events</span>. The dialog that opens lists recent actions
   performed for the resource. Failures are displayed in red. To view the
   resource details, click the magnifier icon in the
   <span class="guimenu">Operations</span> column.
  </p><div class="figure" id="id-1.4.4.4.7.17.6"><div class="figure-contents"><div class="mediaobject"><a href="images/hawk2-rsc-details.png"><img src="images/hawk2-rsc-details.png" width="60%" alt="Hawk2—Resource Details" title="Hawk2—Resource Details"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 6.10: </span><span class="title-name">Hawk2—Resource Details </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#id-1.4.4.4.7.17.6">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_rsc_i.xml" title="Edit source document"> </a></div></div></div></section></section><section class="sect1" id="sec-conf-hawk2-cons" data-id-title="Configuring Constraints"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">6.6 </span><span class="title-name">Configuring Constraints</span></span> <a title="Permalink" class="permalink" href="cha-conf-hawk2.html#sec-conf-hawk2-cons">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_cons_i.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  After you have configured all resources, specify how the cluster should
  handle them correctly. Resource constraints let you specify on which cluster
  nodes resources can run, in which order to load resources, and what
  other resources a specific resource depends on.
 </p><p>
  For an overview of available types of constraints, refer to
  <a class="xref" href="cha-ha-config-basics.html#sec-ha-config-basics-constraints-types" title="5.5.1. Types of Constraints">Section 5.5.1, “Types of Constraints”</a>. When defining
  constraints, you also need to specify scores. For more information on scores
  and their implications in the cluster, see
  <a class="xref" href="cha-ha-config-basics.html#sec-ha-config-basics-constraints-scores" title="5.5.2. Scores and Infinity">Section 5.5.2, “Scores and Infinity”</a>.
 </p><section class="sect2" id="sec-conf-hawk2-cons-loc" data-id-title="Adding Location Constraints"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.6.1 </span><span class="title-name">Adding Location Constraints</span></span> <a title="Permalink" class="permalink" href="cha-conf-hawk2.html#sec-conf-hawk2-cons-loc">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_cons_i.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   A location constraint determines on which node a resource may be run, is
   preferably run, or may not be run. An example of a location constraint is to
   place all resources related to a certain database on the same node.
  </p><div class="procedure" id="pro-hawk2-constraints-location" data-id-title="Adding a Location Constraint"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 6.14: </span><span class="title-name">Adding a Location Constraint </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#pro-hawk2-constraints-location">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_cons_i.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><p>
    
   </p><ol class="procedure" type="1"><li class="step"><p>
     Log in to Hawk2:
    </p><div class="verbatim-wrap"><pre class="screen">https://<em class="replaceable">HAWKSERVER</em>:7630/</pre></div></li><li class="step"><p>
     From the left navigation bar, select <span class="guimenu">Configuration</span> › <span class="guimenu">Add Constraint</span> › <span class="guimenu">Location</span>.
    </p></li><li class="step"><p>
     Enter a unique <span class="guimenu">Constraint ID</span>.
    </p></li><li class="step" id="step-hawk2-loc-rsc"><p>
     From the list of <span class="guimenu">Resources</span> select the resource or
     resources for which to define the constraint.
    </p></li><li class="step"><p>
     Enter a <span class="guimenu">Score</span>. The score indicates the value you are
     assigning to this resource constraint. Positive values indicate the
     resource can run on the <span class="guimenu">Node</span> you specify in the next
     step. Negative values mean it should not run on that node. Constraints
     with higher scores are applied before those with lower scores.
    </p><p>
     Some often-used values can also be set via the drop-down box:
    </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
       To force the resources to run on the node, click the arrow
       icon and select <code class="literal">Always</code>. This sets the score to
       <code class="literal">INFINITY</code>.
      </p></li><li class="listitem"><p>
       If you never want the resources to run on the node, click the arrow icon
       and select <code class="literal">Never</code>. This sets the score to
       <code class="literal">-INFINITY</code>, meaning that the resources must not run on
       the node.
      </p></li><li class="listitem"><p>
       To set the score to <code class="literal">0</code>, click the arrow icon and
       select <code class="literal">Advisory</code>. This disables the constraint. This
       is useful when you want to set resource discovery but do not want to
       constrain the resources.
      </p></li></ul></div></li><li class="step"><p>
     Select a <span class="guimenu">Node</span>.
    </p></li><li class="step"><p>
     Click <span class="guimenu">Create</span> to finish the configuration. A message at
     the top of the screen shows if the action has been successful.
    </p></li></ol></div></div><div class="figure" id="id-1.4.4.4.8.5.4"><div class="figure-contents"><div class="mediaobject"><a href="images/hawk2-loc-constraint.png"><img src="images/hawk2-loc-constraint.png" width="100%" alt="Hawk2—Location Constraint" title="Hawk2—Location Constraint"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 6.11: </span><span class="title-name">Hawk2—Location Constraint </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#id-1.4.4.4.8.5.4">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_cons_i.xml" title="Edit source document"> </a></div></div></div></section><section class="sect2" id="sec-conf-hawk2-cons-col" data-id-title="Adding Colocation Constraints"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.6.2 </span><span class="title-name">Adding Colocation Constraints</span></span> <a title="Permalink" class="permalink" href="cha-conf-hawk2.html#sec-conf-hawk2-cons-col">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_cons_i.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   A colocational constraint tells the cluster which resources may or may not
   run together on a node. As a colocation constraint defines a dependency
   between resources, you need at least two resources to create a colocation
   constraint.
  </p><div class="procedure" id="pro-hawk2-constraints-colocation" data-id-title="Adding a Colocation Constraint"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 6.15: </span><span class="title-name">Adding a Colocation Constraint </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#pro-hawk2-constraints-colocation">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_cons_i.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Log in to Hawk2:
    </p><div class="verbatim-wrap"><pre class="screen">https://<em class="replaceable">HAWKSERVER</em>:7630/</pre></div></li><li class="step"><p>
     From the left navigation bar, select <span class="guimenu">Configuration</span> › <span class="guimenu">Add Constraint</span> › <span class="guimenu">Colocation</span>.
    </p></li><li class="step"><p>
     Enter a unique <span class="guimenu">Constraint ID</span>.
    </p></li><li class="step"><p>
     Enter a <span class="guimenu">Score</span>. The score determines the location
     relationship between the resources. Positive values indicate that the
     resources should run on the same node. Negative values indicate that the
     resources should not run on the same node. The score will be combined with
     other factors to decide where to put the resource.
    </p><p>
     Some often-used values can also be set via the drop-down box:
    </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
       To force the resources to run on the same node, click the
       arrow icon and select <code class="literal">Always</code>. This sets the score to
       <code class="literal">INFINITY</code>.
      </p></li><li class="listitem"><p>
       If you never want the resources to run on the same node, click the arrow
       icon and select <code class="literal">Never</code>. This sets the score to
       <code class="literal">-INFINITY</code>, meaning that the resources must not run on
       the same node.
      </p></li></ul></div></li><li class="step"><p>
     To define the resources for the constraint:
    </p><ol type="a" class="substeps"><li class="step" id="step-hawk2-col-rsc"><p>
       From the drop-down box in the <span class="guimenu">Resources</span> category,
       select a resource (or a template).
      </p><p>
       The resource is added and a new empty drop-down box appears beneath.
      </p></li><li class="step"><p>
       Repeat this step to add more resources.
      </p><p>
       As the topmost resource depends on the next resource and so on, the
       cluster will first decide where to put the last resource, then place the
       depending ones based on that decision. If the constraint cannot be
       satisﬁed, the cluster may not allow the dependent resource to run.
      </p></li><li class="step"><p>
       To swap the order of resources within the colocation constraint, click
       the arrow up icon next to a resource to swap it with the entry above.
      </p></li></ol></li><li class="step"><p>
     If needed, specify further parameters for each resource (such as
     <code class="literal">Started</code>, <code class="literal">Stopped</code>,
     <code class="literal">Master</code>, <code class="literal">Slave</code>,
     <code class="literal">Promote</code>, <code class="literal">Demote</code>): Click the empty
     drop-down box next to the resource and select the desired entry.
    </p></li><li class="step"><p>
     Click <span class="guimenu">Create</span> to finish the configuration. A message at
     the top of the screen shows if the action has been successful.
    </p></li></ol></div></div><div class="figure" id="id-1.4.4.4.8.6.4"><div class="figure-contents"><div class="mediaobject"><a href="images/hawk2-col-constraint.png"><img src="images/hawk2-col-constraint.png" width="100%" alt="Hawk2—Colocation Constraint" title="Hawk2—Colocation Constraint"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 6.12: </span><span class="title-name">Hawk2—Colocation Constraint </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#id-1.4.4.4.8.6.4">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_cons_i.xml" title="Edit source document"> </a></div></div></div></section><section class="sect2" id="sec-conf-hawk2-cons-order" data-id-title="Adding Order Constraints"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.6.3 </span><span class="title-name">Adding Order Constraints</span></span> <a title="Permalink" class="permalink" href="cha-conf-hawk2.html#sec-conf-hawk2-cons-order">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_cons_i.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Order constraints define the order in which resources are started and
   stopped. As an order constraint defines a dependency between resources, you
   need at least two resources to create an order constraint.
  </p><div class="procedure" id="pro-hawk2-constraints-order" data-id-title="Adding an Order Constraint"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 6.16: </span><span class="title-name">Adding an Order Constraint </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#pro-hawk2-constraints-order">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_cons_i.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Log in to Hawk2:
    </p><div class="verbatim-wrap"><pre class="screen">https://<em class="replaceable">HAWKSERVER</em>:7630/</pre></div></li><li class="step"><p>
     From the left navigation bar, select <span class="guimenu">Configuration</span> › <span class="guimenu">Add Constraint</span> › <span class="guimenu">Order</span>.
    </p></li><li class="step"><p>
     Enter a unique <span class="guimenu">Constraint ID</span>.
    </p></li><li class="step"><p>
     Enter a <span class="guimenu">Score</span>. If the score is greater than zero, the
     order constraint is mandatory, otherwise it is optional.
    </p><p>
     Some often-used values can also be set via the drop-down box:
    </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
       If you want to make the order constraint mandatory, click the arrow icon
       and select <code class="literal">Mandatory</code>.
      </p></li><li class="listitem"><p>
       If you want the order constraint to be a suggestion only, click the
       arrow icon and select <code class="literal">Optional</code>.
      </p></li><li class="listitem"><p>
       <code class="literal">Serialize</code>: To ensure that no two stop/start actions
       occur concurrently for the resources, click the arrow icon and select
       <code class="literal">Serialize</code>. This makes sure that one resource must
       complete starting before the other can be started. A typical use case
       are resources that put a high load on the host during start-up.
      </p></li></ul></div></li><li class="step"><p>
     For order constraints, you can usually keep the option
     <span class="guimenu">Symmetrical</span> enabled. This specifies that resources are
     stopped in reverse order.
    </p></li><li class="step"><p>
     To define the resources for the constraint:
    </p><ol type="a" class="substeps"><li class="step" id="step-hawk2-order-rsc"><p>
       From the drop-down box in the <span class="guimenu">Resources</span> category,
       select a resource (or a template).
      </p><p>
       The resource is added and a new empty drop-down box appears beneath.
      </p></li><li class="step"><p>
       Repeat this step to add more resources.
      </p><p>
       The topmost resource will start first, then the second, etc. Usually the
       resources will be stopped in reverse order.
      </p></li><li class="step"><p>
       To swap the order of resources within the order constraint, click the
       arrow up icon next to a resource to swap it with the entry above.
      </p></li></ol></li><li class="step"><p>
     If needed, specify further parameters for each resource (like
     <code class="literal">Started</code>, <code class="literal">Stopped</code>,
     <code class="literal">Master</code>, <code class="literal">Slave</code>,
     <code class="literal">Promote</code>, <code class="literal">Demote</code>): Click the empty
     drop-down box next to the resource and select the desired entry.
    </p></li><li class="step"><p>
     Confirm your changes to finish the configuration. A message at the top of
     the screen shows if the action has been successful.
    </p></li></ol></div></div><div class="figure" id="id-1.4.4.4.8.7.4"><div class="figure-contents"><div class="mediaobject"><a href="images/hawk2-order-constraint.png"><img src="images/hawk2-order-constraint.png" width="100%" alt="Hawk2—Order Constraint" title="Hawk2—Order Constraint"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 6.13: </span><span class="title-name">Hawk2—Order Constraint </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#id-1.4.4.4.8.7.4">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_cons_i.xml" title="Edit source document"> </a></div></div></div></section><section class="sect2" id="sec-conf-hawk2-cons-set" data-id-title="Using Resource Sets for Constraints"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.6.4 </span><span class="title-name">Using Resource Sets for Constraints</span></span> <a title="Permalink" class="permalink" href="cha-conf-hawk2.html#sec-conf-hawk2-cons-set">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_cons_i.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   As an alternative format for defining constraints, you can use
   <a class="xref" href="cha-ha-config-basics.html#sec-ha-config-basics-constraints-rscset" title="5.5.1.1. Resource Sets">Resource Sets</a>.
   They have the same ordering semantics as
   <a class="xref" href="cha-ha-config-basics.html#sec-ha-config-basics-resources-advanced-groups" title="5.3.5.1. Groups">Groups</a>.
  </p><div class="procedure" id="pro-hawk2-constraints-sets" data-id-title="Using a Resource Set for Constraints"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 6.17: </span><span class="title-name">Using a Resource Set for Constraints </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#pro-hawk2-constraints-sets">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_cons_i.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     To use a resource set within a location constraint:
    </p><ol type="a" class="substeps"><li class="step"><p>
       Proceed as outlined in <a class="xref" href="cha-conf-hawk2.html#pro-hawk2-constraints-location" title="Adding a Location Constraint">Procedure 6.14, “Adding a Location Constraint”</a>,
       apart from
       <a class="xref" href="cha-conf-hawk2.html#step-hawk2-loc-rsc" title="Step 4">Step 4</a>: Instead
       of selecting a single resource, select multiple resources by pressing
       <span class="keycap">Ctrl</span> or <span class="keycap">Shift</span> and mouse
       click. This creates a resource set within the location constraint.
      </p></li><li class="step"><p>
       To remove a resource from the location constraint, press
       <span class="keycap">Ctrl</span> and click the resource again to deselect
       it.
      </p></li></ol></li><li class="step"><p>
     To use a resource set within a colocation or order constraint:
    </p><ol type="a" class="substeps"><li class="step"><p>
       Proceed as described in
       <a class="xref" href="cha-conf-hawk2.html#pro-hawk2-constraints-colocation" title="Adding a Colocation Constraint">Procedure 6.15, “Adding a Colocation Constraint”</a> or
       <a class="xref" href="cha-conf-hawk2.html#pro-hawk2-constraints-order" title="Adding an Order Constraint">Procedure 6.16, “Adding an Order Constraint”</a>, apart from the
       step where you define the resources for the constraint
       (<a class="xref" href="cha-conf-hawk2.html#step-hawk2-col-rsc" title="Step 5.a">Step 5.a</a> or
       <a class="xref" href="cha-conf-hawk2.html#step-hawk2-order-rsc" title="Step 6.a">Step 6.a</a>):
      </p></li><li class="step"><p>
       Add multiple resources.
      </p></li><li class="step"><p>
       To create a resource set, click the chain icon next to a resource to
       link it to the resource above. A resource set is visualized by a frame
       around the resources belonging to a set.
      </p></li><li class="step"><p>
       You can combine multiple resources in a resource set or create multiple
       resource sets.
      </p><div class="figure" id="id-1.4.4.4.8.8.3.3.2.4.2"><div class="figure-contents"><div class="mediaobject"><a href="images/hawk2-constraint-set.png"><img src="images/hawk2-constraint-set.png" width="100%" alt="Hawk2—Two Resource Sets in a Colocation Constraint" title="Hawk2—Two Resource Sets in a Colocation Constraint"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 6.14: </span><span class="title-name">Hawk2—Two Resource Sets in a Colocation Constraint </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#id-1.4.4.4.8.8.3.3.2.4.2">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_cons_i.xml" title="Edit source document"> </a></div></div></div></li><li class="step"><p>
       To unlink a resource from the resource above, click the scissors icon
       next to the resource.
      </p></li></ol></li><li class="step"><p>
     Confirm your changes to finish the constraint configuration.
    </p></li></ol></div></div></section><section class="sect2" id="sec-conf-hawk2-cons-more" data-id-title="For More Information"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.6.5 </span><span class="title-name">For More Information</span></span> <a title="Permalink" class="permalink" href="cha-conf-hawk2.html#sec-conf-hawk2-cons-more">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_cons_i.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   For more information on configuring constraints and detailed background
   information about the basic concepts of ordering and colocation, refer to
   the documentation available at
   <a class="link" href="http://www.clusterlabs.org/pacemaker/doc/" target="_blank">http://www.clusterlabs.org/pacemaker/doc/</a>:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
      <em class="citetitle">Pacemaker Explained</em>, chapter <em class="citetitle">Resource Constraints</em>
    </p></li><li class="listitem"><p>
     <em class="citetitle">Colocation Explained</em>
    </p></li><li class="listitem"><p>
     <em class="citetitle">Ordering Explained</em>
    </p></li></ul></div></section><section class="sect2" id="sec-conf-hawk2-failover" data-id-title="Specifying Resource Failover Nodes"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.6.6 </span><span class="title-name">Specifying Resource Failover Nodes</span></span> <a title="Permalink" class="permalink" href="cha-conf-hawk2.html#sec-conf-hawk2-failover">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_cons_i.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   A resource will be automatically restarted if it fails. If that cannot be
   achieved on the current node, or it fails <em class="replaceable">N</em> times
   on the current node, it will try to fail over to another node. You can
   define several failures for resources (a
   <code class="literal">migration-threshold</code>), after which they will migrate to a
   new node. If you have more than two nodes in your cluster, the node to which
   a particular resource fails over is chosen by the High Availability software.
  </p><p>
   You can specify a specific node to which a resource will fail over by
   proceeding as follows:
  </p><div class="procedure" id="pro-hawk2-failover" data-id-title="Specifying a Failover Node"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 6.18: </span><span class="title-name">Specifying a Failover Node </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#pro-hawk2-failover">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_cons_i.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Log in to Hawk2:
    </p><div class="verbatim-wrap"><pre class="screen">https://<em class="replaceable">HAWKSERVER</em>:7630/</pre></div></li><li class="step"><p>
     Configure a location constraint for the resource as described in
     <a class="xref" href="cha-conf-hawk2.html#pro-hawk2-constraints-location" title="Adding a Location Constraint">Procedure 6.14, “Adding a Location Constraint”</a>.
    </p></li><li class="step"><p>
     Add the <code class="literal">migration-threshold</code> meta attribute to the
     resource as described in
     <a class="xref" href="cha-conf-hawk2.html#pro-conf-hawk2-rsc-modify" title="Modifying Parameters, Operations, or Meta Attributes for a Resource">Procedure 6.7: Modifying Parameters, Operations, or Meta Attributes for a Resource</a>,
     <a class="xref" href="cha-conf-hawk2.html#step-hawk2-rsc-modify-params" title="Step 4">Step 4</a>
     and enter a value for the migration-threshold. The value should be
     positive and less than INFINITY.
    </p></li><li class="step"><p>
     If you want to automatically expire the failcount for a resource, add the
     <code class="literal">failure-timeout</code> meta attribute to the resource as
     described in
     <a class="xref" href="cha-conf-hawk2.html#pro-conf-hawk2-primitive-add" title="Adding a Primitive Resource">Procedure 6.5: Adding a Primitive Resource</a>,
     <a class="xref" href="cha-conf-hawk2.html#step-hawk2-rsc-modify-params" title="Step 4">Step 4</a>
     and enter a <span class="guimenu">Value</span> for the
     <code class="literal">failure-timeout</code>.
    </p><div class="informalfigure"><div class="mediaobject"><a href="images/hawk2-failover-node.png"><img src="images/hawk2-failover-node.png" width="100%" alt="Image" title="Image"/></a></div></div></li><li class="step"><p>
     If you want to specify additional failover nodes with preferences for a
     resource, create additional location constraints.
    </p></li></ol></div></div><p>
   The process flow regarding migration thresholds and failcounts is
   demonstrated in <a class="xref" href="cha-ha-config-basics.html#ex-ha-config-basics-failover" title="Migration Threshold—Process Flow">Example 5.8, “Migration Threshold—Process Flow”</a>.
  </p><p>
   Instead of letting the failcount for a resource expire automatically, you
   can also clean up failcounts for a resource manually at any time. Refer to
   <a class="xref" href="cha-conf-hawk2.html#sec-conf-hawk2-manage-cleanup" title="6.7.3. Cleaning Up Resources">Section 6.7.3, “Cleaning Up Resources”</a> for details.
  </p></section><section class="sect2" id="sec-config-hawk2-failback" data-id-title="Specifying Resource Failback Nodes (Resource Stickiness)"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.6.7 </span><span class="title-name">Specifying Resource Failback Nodes (Resource Stickiness)</span></span> <a title="Permalink" class="permalink" href="cha-conf-hawk2.html#sec-config-hawk2-failback">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_cons_i.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   A resource may fail back to its original node when that node is back online
   and in the cluster. To prevent this or to specify a different node for the
   resource to fail back to, change the stickiness value of the resource. You
   can either specify the resource stickiness when creating it or afterward.
  </p><p>
   For the implications of different resource stickiness values, refer to
   <a class="xref" href="cha-ha-config-basics.html#sec-ha-config-basics-failback" title="5.5.5. Failback Nodes">Section 5.5.5, “Failback Nodes”</a>.
  </p><div class="procedure" id="pro-hawk2-stickiness" data-id-title="Specifying Resource Stickiness"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 6.19: </span><span class="title-name">Specifying Resource Stickiness </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#pro-hawk2-stickiness">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_cons_i.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Log in to Hawk2:
    </p><div class="verbatim-wrap"><pre class="screen">https://<em class="replaceable">HAWKSERVER</em>:7630/</pre></div></li><li class="step"><p>
     Add the <code class="literal">resource-stickiness</code> meta attribute to the
     resource as described in
     <a class="xref" href="cha-conf-hawk2.html#pro-conf-hawk2-rsc-modify" title="Modifying Parameters, Operations, or Meta Attributes for a Resource">Procedure 6.7: Modifying Parameters, Operations, or Meta Attributes for a Resource</a>,
     <a class="xref" href="cha-conf-hawk2.html#step-hawk2-rsc-modify-params" title="Step 4">Step 4</a>.
    </p></li><li class="step"><p>
     Specify a value between <code class="literal">-INFINITY</code> and
     <code class="literal">INFINITY</code> for <code class="literal">resource-stickiness</code>.
    </p><div class="informalfigure"><div class="mediaobject"><a href="images/hawk2-rsc-stickiness.png"><img src="images/hawk2-rsc-stickiness.png" width="100%" alt="Image" title="Image"/></a></div></div></li></ol></div></div></section><section class="sect2" id="sec-config-hawk2-utilization" data-id-title="Configuring Placement of Resources Based on Load Impact"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.6.8 </span><span class="title-name">Configuring Placement of Resources Based on Load Impact</span></span> <a title="Permalink" class="permalink" href="cha-conf-hawk2.html#sec-config-hawk2-utilization">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_cons_i.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Not all resources are equal. Some, such as Xen guests, require that the
   node hosting them meets their capacity requirements. If resources are placed
   so that their combined needs exceed the provided capacity, the performance
   of the resources diminishes or they fail.
  </p><p>
   To take this into account, the High Availability Extension allows you to specify the following
   parameters:
  </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
     The capacity a certain node <span class="emphasis"><em>provides</em></span>.
    </p></li><li class="listitem"><p>
     The capacity a certain resource <span class="emphasis"><em>requires</em></span>.
    </p></li><li class="listitem"><p>
     An overall strategy for placement of resources.
    </p></li></ol></div><p>
   For more details and a configuration example, refer to
   <a class="xref" href="cha-ha-config-basics.html#sec-ha-config-basics-utilization" title="5.5.6. Placing Resources Based on Their Load Impact">Section 5.5.6, “Placing Resources Based on Their Load Impact”</a>.
  </p><p>
   Utilization attributes are used to configure both the resource's
   requirements and the capacity a node provides. You first need to configure a
   node's capacity before you can configure the capacity a resource requires.
  </p><div class="procedure" id="pro-hawk2-utilization-node" data-id-title="Configuring the Capacity a Node Provides"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 6.20: </span><span class="title-name">Configuring the Capacity a Node Provides </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#pro-hawk2-utilization-node">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_cons_i.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Log in to Hawk2:
    </p><div class="verbatim-wrap"><pre class="screen">https://<em class="replaceable">HAWKSERVER</em>:7630/</pre></div></li><li class="step"><p>
     From the left navigation bar, select <span class="guimenu">Monitoring</span> › <span class="guimenu">Status</span>.
    </p></li><li class="step"><p>
     On the <span class="guimenu">Nodes</span> tab, select the node whose capacity you
     want to configure.
    </p></li><li class="step"><p>
     In the <span class="guimenu">Operations</span> column, click the arrow down icon and
     select <span class="guimenu">Edit</span>.
    </p><p>
     The <span class="guimenu">Edit Node</span> screen opens.
    </p></li><li class="step"><p>
     Below <span class="guimenu">Utilization</span>, enter a name for a utilization
     attribute into the empty drop-down box.
    </p><p>
     The name can be arbitrary (for example, <code class="literal">RAM_in_GB</code>).
    </p></li><li class="step"><p>
     Click the <span class="guimenu">Add</span> icon to add the attribute.
    </p></li><li class="step"><p>
     In the empty text box next to the attribute, enter an attribute value. The
     value must be an integer.
    </p><div class="informalfigure"><div class="mediaobject"><a href="images/hawk2-utilization-node.png"><img src="images/hawk2-utilization-node.png" width="100%" alt="Image" title="Image"/></a></div></div></li><li class="step"><p>
     Add as many utilization attributes as you need and add values for all of
     them.
    </p></li><li class="step"><p>
     Confirm your changes. A message at the top of the screen shows if the
     action has been successful.
    </p></li></ol></div></div><div class="procedure" id="pro-hawk2-utilization-rsc" data-id-title="Configuring the Capacity a Resource Requires"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 6.21: </span><span class="title-name">Configuring the Capacity a Resource Requires </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#pro-hawk2-utilization-rsc">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_cons_i.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><p>
    Configure the capacity a certain resource requires from a node either when
    creating a primitive resource or when editing an existing primitive resource.
   </p><p>
    Before you can add utilization attributes to a resource, you need to have
    set utilization attributes for your cluster nodes as described in
    <a class="xref" href="cha-conf-hawk2.html#pro-hawk2-utilization-node" title="Configuring the Capacity a Node Provides">Procedure 6.20</a>.
   </p><ol class="procedure" type="1"><li class="step"><p>
     Log in to Hawk2:
    </p><div class="verbatim-wrap"><pre class="screen">https://<em class="replaceable">HAWKSERVER</em>:7630/</pre></div></li><li class="step"><p>
     To add a utilization attribute to an existing resource: Go to <span class="guimenu">Manage</span> › <span class="guimenu">Status</span> and open
     the resource configuration dialog as described in
     <a class="xref" href="cha-conf-hawk2.html#sec-conf-hawk2-manage-edit" title="6.7.1. Editing Resources and Groups">Section 6.7.1, “Editing Resources and Groups”</a>.
    </p><p>
     If you create a new resource: Go to <span class="guimenu">Configuration</span> › <span class="guimenu">Add Resource</span> and proceed as described in
     <a class="xref" href="cha-conf-hawk2.html#sec-conf-hawk2-rsc-primitive" title="6.5.3. Adding Simple Resources">Section 6.5.3, “Adding Simple Resources”</a>.
    </p></li><li class="step"><p>
     In the resource configuration dialog, go to the
     <span class="guimenu">Utilization</span> category.
    </p></li><li class="step"><p>
     From the empty drop-down box, select one of the utilization attributes
     that you have configured for the nodes in
     <a class="xref" href="cha-conf-hawk2.html#pro-hawk2-utilization-node" title="Configuring the Capacity a Node Provides">Procedure 6.20</a>.
    </p></li><li class="step"><p>
     In the empty text box next to the attribute, enter an attribute value. The
     value must be an integer.
    </p></li><li class="step"><p>
     Add as many utilization attributes as you need and add values for all of
     them.
    </p></li><li class="step"><p>
     Confirm your changes. A message at the top of the screen shows if the
     action has been successful.
    </p></li></ol></div></div><p>
   After you have configured the capacities your nodes provide and the
   capacities your resources require, set the placement strategy in
   the global cluster options. Otherwise the capacity configurations have no
   effect. Several strategies are available to schedule the load: for example,
   you can concentrate it on as few nodes as possible, or balance it evenly
   over all available nodes. For more information, refer to
   <a class="xref" href="cha-ha-config-basics.html#sec-ha-config-basics-utilization" title="5.5.6. Placing Resources Based on Their Load Impact">Section 5.5.6, “Placing Resources Based on Their Load Impact”</a>.
  </p><div class="procedure" id="pro-ha-config-hawk2-placement" data-id-title="Setting the Placement Strategy"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 6.22: </span><span class="title-name">Setting the Placement Strategy </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#pro-ha-config-hawk2-placement">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_cons_i.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Log in to Hawk2:
    </p><div class="verbatim-wrap"><pre class="screen">https://<em class="replaceable">HAWKSERVER</em>:7630/</pre></div></li><li class="step"><p>
     From the left navigation bar, select <span class="guimenu">Configuration</span> › <span class="guimenu">Cluster Configuration</span> to open the respective screen. It shows global
     cluster options and resource and operation defaults.
    </p></li><li class="step"><p>
     From the empty drop-down box in the upper part of the screen, select
     <code class="literal">placement-strategy</code>.
    </p><p>
     By default, its value is set to <span class="guimenu">Default</span>, which means
     that utilization attributes and values are not considered.
    </p></li><li class="step"><p>
     Depending on your requirements, set <span class="guimenu">Placement Strategy</span>
     to the appropriate value.
    </p></li><li class="step"><p>
     Confirm your changes.
    </p></li></ol></div></div></section></section><section class="sect1" id="sec-conf-hawk2-manage" data-id-title="Managing Cluster Resources"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">6.7 </span><span class="title-name">Managing Cluster Resources</span></span> <a title="Permalink" class="permalink" href="cha-conf-hawk2.html#sec-conf-hawk2-manage">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_manage_i.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  In addition to configuring your cluster resources, Hawk2 allows you to
  manage existing resources from the <span class="guimenu">Status</span> screen. For a
  general overview of the screen refer to
  <a class="xref" href="cha-ha-monitor-clusters.html#sec-conf-hawk2-manage-monitor-status" title="10.1.1. Monitoring a Single Cluster">Section 10.1.1, “Monitoring a Single Cluster”</a>.
 </p><section class="sect2" id="sec-conf-hawk2-manage-edit" data-id-title="Editing Resources and Groups"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.7.1 </span><span class="title-name">Editing Resources and Groups</span></span> <a title="Permalink" class="permalink" href="cha-conf-hawk2.html#sec-conf-hawk2-manage-edit">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_manage_i.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   In case you need to edit existing resources, go to the
   <span class="guimenu">Status</span> screen. In the <span class="guimenu">Operations</span>
   column, click the arrow down icon next to the resource or group you want to
   modify and select <span class="guimenu">Edit</span>.
  </p><p>
   The editing screen appears. If you edit a primitive resource, the following
   operations are available:
  </p><div class="itemizedlist"><div class="title-container"><div class="itemizedlist-title-wrap"><div class="itemizedlist-title"><span class="title-number-name"><span class="title-name">Operations for Primitives </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#id-1.4.4.4.9.4.4">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_manage_i.xml" title="Edit source document"> </a></div></div><ul class="itemizedlist"><li class="listitem"><p>
     Copying the resource.
    </p></li><li class="listitem"><p>
     Renaming the resource (changing its ID).
    </p></li><li class="listitem"><p>
     Deleting the resource.
    </p></li></ul></div><p>
   If you edit a group, the following operations are available:
  </p><div class="itemizedlist"><div class="title-container"><div class="itemizedlist-title-wrap"><div class="itemizedlist-title"><span class="title-number-name"><span class="title-name">Operations for Groups </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#id-1.4.4.4.9.4.6">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_manage_i.xml" title="Edit source document"> </a></div></div><ul class="itemizedlist"><li class="listitem"><p>
     Creating a new primitive which will be added to this group.
    </p></li><li class="listitem"><p>
     Renaming the group (changing its ID).
    </p></li><li class="listitem"><p>
     Re-sort group members by dragging and dropping them into the order you
     want using the <span class="quote">“<span class="quote">handle</span>”</span> icon on the right.
    </p></li></ul></div></section><section class="sect2" id="sec-conf-hawk2-manage-start" data-id-title="Starting Resources"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.7.2 </span><span class="title-name">Starting Resources</span></span> <a title="Permalink" class="permalink" href="cha-conf-hawk2.html#sec-conf-hawk2-manage-start">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_manage_i.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Before you start a cluster resource, make sure it is set up correctly. For
   example, if you use an Apache server as a cluster resource, set up the
   Apache server first. Complete the Apache configuration before starting the
   respective resource in your cluster.
  </p><div id="id-1.4.4.4.9.5.3" data-id-title="Do Not Touch Services Managed by the Cluster" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Do Not Touch Services Managed by the Cluster</div><p>
    When managing a resource via the High Availability Extension, the resource must not be started
    or stopped otherwise (outside of the cluster, for example manually or on
    boot or reboot). The High Availability Extension software is responsible for all service start
    or stop actions.
   </p><p>
    However, if you want to check if the service is configured properly, start
    it manually, but make sure that it is stopped again before the High Availability Extension takes
    over.
   </p><p>
    For interventions in resources that are currently managed by the cluster,
    set the resource to <code class="literal">maintenance mode</code> first. For details,
    see <a class="xref" href="cha-ha-maintenance.html#pro-ha-maint-mode-rsc-hawk2" title="Putting a Resource into Maintenance Mode with Hawk2">Procedure 26.5, “Putting a Resource into Maintenance Mode with Hawk2”</a>.
   </p></div><p>
   When creating a resource with Hawk2, you can set its initial state with
   the <code class="literal">target-role</code> meta attribute. If you set its value to
   <code class="literal">stopped</code>, the resource does not start automatically after
   being created.
  </p><div class="procedure" id="pro-hawk2-rsc-start" data-id-title="Starting A New Resource"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 6.23: </span><span class="title-name">Starting A New Resource </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#pro-hawk2-rsc-start">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_manage_i.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Log in to Hawk2:
    </p><div class="verbatim-wrap"><pre class="screen">https://<em class="replaceable">HAWKSERVER</em>:7630/</pre></div></li><li class="step"><p>
     From the left navigation bar, select <span class="guimenu">Monitoring</span> › <span class="guimenu">Status</span>. The list of
     <span class="guimenu">Resources</span> also shows the <span class="guimenu">Status</span>.
    </p></li><li class="step"><p>
     Select the resource to start. In its <span class="guimenu">Operations</span> column
     click the <span class="guimenu">Start</span> icon. To continue, confirm the message
     that appears.
    </p><p>
     When the resource has started, Hawk2 changes the resource's
     <span class="guimenu">Status</span> to green and shows on which node it is running.
    </p></li></ol></div></div></section><section class="sect2" id="sec-conf-hawk2-manage-cleanup" data-id-title="Cleaning Up Resources"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.7.3 </span><span class="title-name">Cleaning Up Resources</span></span> <a title="Permalink" class="permalink" href="cha-conf-hawk2.html#sec-conf-hawk2-manage-cleanup">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_manage_i.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   A resource will be automatically restarted if it fails, but each failure
   increases the resource's failcount.
  </p><p>
   If a <code class="literal">migration-threshold</code> has been set for the resource,
   the node will no longer run the resource when the number of failures reaches
   the migration threshold.
  </p><p>
   A resource's failcount can either be reset automatically (by setting a
   <code class="literal">failure-timeout</code> option for the resource) or it can be
   reset manually as described below.
  </p><div class="procedure" id="pro-hawk2-clean" data-id-title="Cleaning Up A Resource"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 6.24: </span><span class="title-name">Cleaning Up A Resource </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#pro-hawk2-clean">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_manage_i.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Log in to Hawk2:
    </p><div class="verbatim-wrap"><pre class="screen">https://<em class="replaceable">HAWKSERVER</em>:7630/</pre></div></li><li class="step"><p>
     From the left navigation bar, select <span class="guimenu">Status</span>. The list of
     <span class="guimenu">Resources</span> also shows the <span class="guimenu">Status</span>.
    </p></li><li class="step"><p>
     Go to the resource to clean up. In the <span class="guimenu">Operations</span>
     column click the arrow down button and select <span class="guimenu">Cleanup</span>.
     To continue, confirm the message that appears.
    </p><p>
     This executes the command <code class="command">crm resource cleanup</code> and
     cleans up the resource on all nodes.
    </p></li></ol></div></div></section><section class="sect2" id="sec-conf-hawk2-manage-remove" data-id-title="Removing Cluster Resources"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.7.4 </span><span class="title-name">Removing Cluster Resources</span></span> <a title="Permalink" class="permalink" href="cha-conf-hawk2.html#sec-conf-hawk2-manage-remove">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_manage_i.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   If you need to remove a resource from the cluster, follow the procedure
   below to avoid configuration errors:
  </p><div class="procedure" id="pro-hawk2-rsc-rm" data-id-title="Removing a Cluster Resource"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 6.25: </span><span class="title-name">Removing a Cluster Resource </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#pro-hawk2-rsc-rm">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_manage_i.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Log in to Hawk2:
    </p><div class="verbatim-wrap"><pre class="screen">https://<em class="replaceable">HAWKSERVER</em>:7630/</pre></div></li><li class="step"><p>
     Clean up the resource on all nodes as described in
     <a class="xref" href="cha-conf-hawk2.html#pro-hawk2-clean" title="Cleaning Up A Resource">Procedure 6.24, “Cleaning Up A Resource”</a>.
    </p></li><li class="step"><p>
     Stop the resource:
    </p><ol type="a" class="substeps"><li class="step"><p>
       From the left navigation bar, select <span class="guimenu">Monitoring</span> › <span class="guimenu">Status</span>. The list
       of <span class="guimenu">Resources</span> also shows the
       <span class="guimenu">Status</span>.
      </p></li><li class="step"><p>
       In the <span class="guimenu">Operations</span> column click the
       <span class="guimenu">Stop</span> button next to the resource.
      </p></li><li class="step"><p>
       To continue, confirm the message that appears.
      </p><p>
       The <span class="guimenu">Status</span> column will reflect the change when the
       resource is stopped.
      </p></li></ol></li><li class="step"><p>
     Delete the resource:
    </p><ol type="a" class="substeps"><li class="step"><p>
       From the left navigation bar, select
       <span class="guimenu">Configuration</span> › <span class="guimenu">Edit
       Configuration</span>.
      </p></li><li class="step"><p>
       In the list of <span class="guimenu">Resources</span>, go to the respective
       resource. From the <span class="guimenu">Operations</span> column click the
       <span class="guimenu">Delete</span> icon next to the resource.
      </p></li><li class="step"><p>
       To continue, confirm the message that appears.
      </p></li></ol></li></ol></div></div></section><section class="sect2" id="sec-conf-hawk2-manage-migrate" data-id-title="Migrating Cluster Resources"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.7.5 </span><span class="title-name">Migrating Cluster Resources</span></span> <a title="Permalink" class="permalink" href="cha-conf-hawk2.html#sec-conf-hawk2-manage-migrate">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_manage_i.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   As mentioned in <a class="xref" href="cha-conf-hawk2.html#sec-conf-hawk2-failover" title="6.6.6. Specifying Resource Failover Nodes">Section 6.6.6, “Specifying Resource Failover Nodes”</a>, the cluster will
   fail over (migrate) resources automatically in case of software or hardware
   failures—according to certain parameters you can define (for example,
   migration threshold or resource stickiness). You can also manually migrate a
   resource to another node in the cluster. Or you decide to move the resource
   away from the current node and let the cluster decide where to put it.
  </p><div class="procedure" id="pro-hawk2-rsc-migrate" data-id-title="Manually Migrating a Resource"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 6.26: </span><span class="title-name">Manually Migrating a Resource </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#pro-hawk2-rsc-migrate">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_manage_i.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Log in to Hawk2:
    </p><div class="verbatim-wrap"><pre class="screen">https://<em class="replaceable">HAWKSERVER</em>:7630/</pre></div></li><li class="step"><p>
     From the left navigation bar, select <span class="guimenu">Monitoring</span> › <span class="guimenu">Status</span>. The list of
     <span class="guimenu">Resources</span> also shows the <span class="guimenu">Status</span>.
    </p></li><li class="step"><p>
     In the list of <span class="guimenu">Resources</span>, select the respective
     resource.
    </p></li><li class="step"><p>
     In the <span class="guimenu">Operations</span> column click the arrow down button
     and select <span class="guimenu">Migrate</span>.
    </p></li><li class="step"><p>
     In the window that opens you have the following choices:
    </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
       <span class="guimenu">Away from current node</span>: This creates a location
       constraint with a <code class="literal">-INFINITY</code> score for the current
       node.
      </p></li><li class="listitem"><p>
       Alternatively, you can move the resource to another node. This creates a
       location constraint with an <code class="literal">INFINITY</code> score for the
       destination node.
      </p></li></ul></div></li><li class="step"><p>
     Confirm your choice.
    </p></li></ol></div></div><p>
   To allow a resource to move back again, proceed as follows:
  </p><div class="procedure" id="pro-hawk2-rsc-migrate-back" data-id-title="Unmigrating a Resource"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 6.27: </span><span class="title-name">Unmigrating a Resource </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#pro-hawk2-rsc-migrate-back">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_manage_i.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Log in to Hawk2:
    </p><div class="verbatim-wrap"><pre class="screen">https://<em class="replaceable">HAWKSERVER</em>:7630/</pre></div></li><li class="step"><p>
     From the left navigation bar, select <span class="guimenu">Monitoring</span> › <span class="guimenu">Status</span>. The list of
     <span class="guimenu">Resources</span> also shows the <span class="guimenu">Status</span>.
    </p></li><li class="step"><p>
     In the list of <span class="guimenu">Resources</span>, go to the respective
     resource.
    </p></li><li class="step"><p>
     In the <span class="guimenu">Operations</span> column click the arrow down button
     and select <span class="guimenu">Clear</span>. To continue, confirm the message
     that appears.
    </p><p>
     Hawk2 uses the <code class="command">crm_resource </code> <code class="option">--clear</code>
     command. The resource can move back to its original location or it may
     stay where it is (depending on resource stickiness).
    </p></li></ol></div></div><p>
   For more information, see  <em class="citetitle">Pacemaker Explained</em>, available from
   <a class="link" href="http://www.clusterlabs.org/pacemaker/doc/" target="_blank">http://www.clusterlabs.org/pacemaker/doc/</a>. Refer to section
   <em class="citetitle">Resource Migration</em>.
  </p></section></section><section class="sect1" id="sec-conf-hawk2-batch" data-id-title="Using the Batch Mode"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">6.8 </span><span class="title-name">Using the Batch Mode</span></span> <a title="Permalink" class="permalink" href="cha-conf-hawk2.html#sec-conf-hawk2-batch">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_batch_i.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  Hawk2 provides a <span class="guimenu">Batch Mode</span>, including a
  <span class="emphasis"><em>cluster simulator</em></span>. It can be used for the following:
 </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
    Staging changes to the cluster and applying them as a single transaction,
    instead of having each change take effect immediately.
   </p></li><li class="listitem"><p>
    Simulating changes and cluster events, for example, to explore potential
    failure scenarios.
   </p></li></ul></div><p>
  For example, batch mode can be used when creating groups of resources that
  depend on each other. Using batch mode, you can avoid applying intermediate
  or incomplete configurations to the cluster.
 </p><p>
  While batch mode is enabled, you can add or edit resources and constraints or
  change the cluster configuration. It is also possible to simulate events in
  the cluster, including nodes going online or offline, resource operations and
  tickets being granted or revoked. See
  <a class="xref" href="cha-conf-hawk2.html#pro-hawk2-batch-inject" title="Injecting Node, Resource or Ticket Events">Procedure 6.29, “Injecting Node, Resource or Ticket Events”</a> for details.
 </p><p>
  The <span class="emphasis"><em>cluster simulator</em></span> runs automatically after every
  change and shows the expected outcome in the user interface. For example,
  this also means: If you stop a resource while in batch mode, the user
  interface shows the resource as stopped—while actually, the resource is
  still running.
 </p><div id="id-1.4.4.4.10.8" data-id-title="Wizards and Changes to the Live System" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Wizards and Changes to the Live System</div><p>
   Some wizards include actions beyond mere cluster configuration. When using
   those wizards in batch mode, any changes that go beyond cluster
   configuration would be applied to the live system immediately.
  </p><p>
   Therefore wizards that require <code class="systemitem">root</code> permission cannot be executed in
   batch mode.
  </p></div><div class="procedure" id="pro-conf-hawk2-manage-monitor-batch" data-id-title="Working with the Batch Mode"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 6.28: </span><span class="title-name">Working with the Batch Mode </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#pro-conf-hawk2-manage-monitor-batch">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_batch_i.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
    Log in to Hawk2:
   </p><div class="verbatim-wrap"><pre class="screen">https://<em class="replaceable">HAWKSERVER</em>:7630/</pre></div></li><li class="step"><p>
    To activate the batch mode, select <span class="guimenu">Batch</span> from the
    top-level row.
   </p><p>
    An additional bar appears below the top-level row. It indicates that batch
    mode is active and contains links to actions that you can execute in batch
    mode.
   </p><div class="figure" id="fig-hawk2-batch"><div class="figure-contents"><div class="mediaobject"><a href="images/hawk2-batchmode-active.png"><img src="images/hawk2-batchmode-active.png" width="100%" alt="Hawk2 Batch Mode Activated" title="Hawk2 Batch Mode Activated"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 6.15: </span><span class="title-name">Hawk2 Batch Mode Activated </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#fig-hawk2-batch">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_batch_i.xml" title="Edit source document"> </a></div></div></div></li><li class="step"><p>
    While batch mode is active, perform any changes to your cluster, like
    adding or editing resources and constraints or editing the cluster
    configuration.
   </p><p>
    The changes will be simulated and shown in all screens.
   </p></li><li class="step"><p>
    To view details of the changes you have made, select
    <span class="guimenu">Show</span> from the batch mode bar. The <span class="guimenu">Batch
    Mode</span> window opens.
   </p><p>
    For any configuration changes it shows the difference between the live
    state and the simulated changes in crmsh syntax: Lines starting with a
    <code class="literal">-</code> character represent the current state whereas lines
    starting with <code class="literal">+</code> show the proposed state.
   </p></li><li class="step"><p>
    To inject events or view even more details, see
    <a class="xref" href="cha-conf-hawk2.html#pro-hawk2-batch-inject" title="Injecting Node, Resource or Ticket Events">Procedure 6.29</a>.
    Otherwise <span class="guimenu">Close</span> the window.
   </p></li><li class="step"><p>
    Choose to either <span class="guimenu">Discard</span> or <span class="guimenu">Apply</span> the
    simulated changes and confirm your choice. This also deactivates batch mode
    and takes you back to normal mode.
   </p></li></ol></div></div><p>
  When running in batch mode, Hawk2 also allows you to inject <span class="guimenu">Node
  Events</span> and <span class="guimenu">Resource Events</span>.
 </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.4.4.4.10.11.1"><span class="term"><span class="guimenu">Node Events</span>
   </span></dt><dd><p>
     Let you change the state of a node. Available states are
     <span class="guimenu">online</span>, <span class="guimenu">offline</span>, and
     <span class="guimenu">unclean</span>.
    </p></dd><dt id="id-1.4.4.4.10.11.2"><span class="term"><span class="guimenu">Resource Events</span>
   </span></dt><dd><p>
     Let you change some properties of a resource. For example, you can set an
     operation (like <code class="literal">start</code>, <code class="literal">stop</code>,
     <code class="literal">monitor</code>), the node it applies to, and the expected
     result to be simulated.
    </p></dd><dt id="id-1.4.4.4.10.11.3"><span class="term"><span class="guimenu">Ticket Events</span>
   </span></dt><dd><p>
     Let you test the impact of granting and revoking tickets (used for Geo
     clusters).
    </p></dd></dl></div><div class="procedure" id="pro-hawk2-batch-inject" data-id-title="Injecting Node, Resource or Ticket Events"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 6.29: </span><span class="title-name">Injecting Node, Resource or Ticket Events </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#pro-hawk2-batch-inject">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_batch_i.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
    Log in to Hawk2:
   </p><div class="verbatim-wrap"><pre class="screen">https://<em class="replaceable">HAWKSERVER</em>:7630/</pre></div></li><li class="step"><p>
    If batch mode is not active yet, click <span class="guimenu">Batch</span> at the
    top-level row to switch to batch mode.
   </p></li><li class="step"><p>
    In the batch mode bar, click <span class="guimenu">Show</span> to open the
    <span class="guimenu">Batch Mode</span> window.
   </p></li><li class="step"><p>
    To simulate a status change of a node:
   </p><ol type="a" class="substeps"><li class="step"><p>
      Click <span class="guimenu">Inject</span> › <span class="guimenu">Node
      Event</span>.
     </p></li><li class="step"><p>
      Select the <span class="guimenu">Node</span> you want to manipulate and select its
      target <span class="guimenu">State</span>.
     </p></li><li class="step"><p>
      Confirm your changes. Your event is added to the queue of events listed
      in the <span class="guimenu">Batch Mode</span> dialog.
     </p></li></ol></li><li class="step"><p>
    To simulate a resource operation:
   </p><ol type="a" class="substeps"><li class="step"><p>
      Click <span class="guimenu">Inject</span> › <span class="guimenu">Resource
      Event</span>.
     </p></li><li class="step"><p>
      Select the <span class="guimenu">Resource</span> you want to manipulate and select
      the <span class="guimenu">Operation</span> to simulate.
     </p></li><li class="step"><p>
      If necessary, define an <span class="guimenu">Interval</span>.
     </p></li><li class="step"><p>
      Select the <span class="guimenu">Node</span> on which to run the operation and the
      targeted <span class="guimenu">Result</span>. Your event is added to the queue of
      events listed in the <span class="guimenu">Batch Mode</span> dialog.
     </p></li><li class="step"><p>
      Confirm your changes.
     </p></li></ol></li><li class="step"><p>
    To simulate a ticket action:
   </p><ol type="a" class="substeps"><li class="step"><p>
      Click <span class="guimenu">Inject</span> › <span class="guimenu">Ticket
       Event</span>.
     </p></li><li class="step"><p>
      Select the <span class="guimenu">Ticket</span> you want to manipulate and select
      the <span class="guimenu">Action</span> to simulate.
     </p></li><li class="step"><p>
      Confirm your changes. Your event is added to the queue of events listed
      in the <span class="guimenu">Batch Mode</span> dialog.
     </p></li></ol></li><li class="step"><p>
    The <span class="guimenu">Batch Mode</span> dialog
    (<a class="xref" href="cha-conf-hawk2.html#fig-hawk2-batch-show" title="Hawk2 Batch Mode—Injected Invents and Configuration Changes">Figure 6.16</a>)
    shows a new line per injected event. Any event listed here is simulated
    immediately and is reflected on the <span class="guimenu">Status</span> screen.
   </p><p>
    If you have made any configuration changes, too, the difference between the
    live state and the simulated changes is shown below the injected events.
   </p><div class="figure" id="fig-hawk2-batch-show"><div class="figure-contents"><div class="mediaobject"><a href="images/hawk2-batchmode-show.png"><img src="images/hawk2-batchmode-show.png" width="100%" alt="Hawk2 Batch Mode—Injected Invents and Configuration Changes" title="Hawk2 Batch Mode—Injected Invents and Configuration Changes"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 6.16: </span><span class="title-name">Hawk2 Batch Mode—Injected Invents and Configuration Changes </span></span><a title="Permalink" class="permalink" href="cha-conf-hawk2.html#fig-hawk2-batch-show">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA15/xml/ha_hawk2_batch_i.xml" title="Edit source document"> </a></div></div></div></li><li class="step"><p>
    To remove an injected event, click the <span class="guimenu">Remove</span> icon next
    to it. Hawk2 updates the <span class="guimenu">Status</span> screen accordingly.
   </p></li><li class="step"><p>
    To view more details about the simulation run, click
    <span class="guimenu">Simulator</span> and choose one of the following:
   </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.4.4.4.10.12.10.2.1"><span class="term"><span class="guimenu">Summary</span>
     </span></dt><dd><p>
       Shows a detailed summary.
      </p></dd><dt id="id-1.4.4.4.10.12.10.2.2"><span class="term"><span class="guimenu">CIB (in)</span>/<span class="guimenu">CIB (out)</span>
     </span></dt><dd><p>
       <span class="guimenu">CIB (in)</span> shows the initial CIB state. <span class="guimenu">CIB
       (out)</span> shows what the CIB would look like after the transition.
      </p></dd><dt id="id-1.4.4.4.10.12.10.2.3"><span class="term"><span class="guimenu">Transition Graph</span>
     </span></dt><dd><p>
       Shows a graphical representation of the transition.
      </p></dd><dt id="id-1.4.4.4.10.12.10.2.4"><span class="term"><span class="guimenu">Transition</span>
     </span></dt><dd><p>
       Shows an XML representation of the transition.
      </p></dd></dl></div></li><li class="step"><p>
    If you have reviewed the simulated changes, close the <span class="guimenu">Batch
    Mode</span> window.
   </p></li><li class="step"><p>
    To leave the batch mode, either <span class="guimenu">Apply</span> or
    <span class="guimenu">Discard</span> the simulated changes.
   </p></li></ol></div></div></section></section><nav class="bottom-pagination"><div><a class="pagination-link prev" href="cha-ha-config-basics.html"><span class="pagination-relation">Previous</span><span class="pagination-label"><span class="title-number">Chapter 5 </span>Configuration and Administration Basics</span></a> </div><div><a class="pagination-link next" href="cha-ha-manual-config.html"><span class="pagination-relation">Next</span><span class="pagination-label"><span class="title-number">Chapter 7 </span>Configuring and Managing Cluster Resources (Command Line)</span></a> </div></nav></article><aside id="_side-toc-page" class="side-toc"><div class="side-title">On this page</div><div class="toc"><ul><li><span class="sect1"><a href="cha-conf-hawk2.html#sec-conf-hawk2-req"><span class="title-number">6.1 </span><span class="title-name">Hawk2 Requirements</span></a></span></li><li><span class="sect1"><a href="cha-conf-hawk2.html#sec-conf-hawk2-login"><span class="title-number">6.2 </span><span class="title-name">Logging In</span></a></span></li><li><span class="sect1"><a href="cha-conf-hawk2.html#sec-conf-hawk2-overview"><span class="title-number">6.3 </span><span class="title-name">Hawk2 Overview: Main Elements</span></a></span></li><li><span class="sect1"><a href="cha-conf-hawk2.html#sec-conf-hawk2-cluster-config"><span class="title-number">6.4 </span><span class="title-name">Configuring Global Cluster Options</span></a></span></li><li><span class="sect1"><a href="cha-conf-hawk2.html#sec-conf-hawk2-rsc"><span class="title-number">6.5 </span><span class="title-name">Configuring Cluster Resources</span></a></span></li><li><span class="sect1"><a href="cha-conf-hawk2.html#sec-conf-hawk2-cons"><span class="title-number">6.6 </span><span class="title-name">Configuring Constraints</span></a></span></li><li><span class="sect1"><a href="cha-conf-hawk2.html#sec-conf-hawk2-manage"><span class="title-number">6.7 </span><span class="title-name">Managing Cluster Resources</span></a></span></li><li><span class="sect1"><a href="cha-conf-hawk2.html#sec-conf-hawk2-batch"><span class="title-number">6.8 </span><span class="title-name">Using the Batch Mode</span></a></span></li></ul></div><div class="side-title">Share this page</div><ul class="share"><li><a id="_share-fb" href="#" title="Facebook"> </a></li><li><a id="_share-in" href="#" title="LinkedIn"> </a></li><li><a id="_share-tw" href="#" title="Twitter"> </a></li><li><a id="_share-mail" href="#" title="E-Mail"> </a></li><li><a id="_print-button" href="#" title="Print this page"> </a></li></ul> </aside></main><footer id="_footer"><div class="growth-inhibitor"><div class="copy"><span class="copy__rights">© SUSE
                 2023</span></div></div></footer></body></html>