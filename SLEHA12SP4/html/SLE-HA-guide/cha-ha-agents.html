<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><title>SLE HA 12 SP4 | Administration Guide | Adding or Modifying Resource Agents</title><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/><link rel="stylesheet" type="text/css" href="static/css/style.css"/>
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"/><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/"/>
<meta name="title" content="Adding or Modifying Resource Agents | SLE HA 12 SP4"/>
<meta name="description" content="All tasks that need to be managed by a cluster must be…"/>
<meta name="product-name" content="SUSE Linux Enterprise High Availability"/>
<meta name="product-number" content="12 SP4"/>
<meta name="book-title" content="Administration Guide"/>
<meta name="chapter-title" content="Chapter 8. Adding or Modifying Resource Agents"/>
<meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi"/>
<meta name="tracker-type" content="bsc"/>
<meta name="tracker-bsc-component" content="Documentation"/>
<meta name="tracker-bsc-product" content="SUSE Linux Enterprise High Availability Extension 12 SP4"/>
<meta name="publisher" content="SUSE"/><meta property="og:title" content="Adding or Modifying Resource Agents | SLE HA 12 SP4"/>
<meta property="og:description" content="All tasks that need to be managed by a cluster must be available as a resource. There are two major groups here to consider:…"/>
<meta property="og:type" content="article"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Adding or Modifying Resource Agents | SLE HA 12 SP4"/>
<meta name="twitter:description" content="All tasks that need to be managed by a cluster must be available as a resource. There are two major groups here to consider:…"/>
<link rel="prev" href="cha-ha-manual-config.html" title="Chapter 7. Configuring and Managing Cluster Resources (Command Line)"/><link rel="next" href="cha-ha-fencing.html" title="Chapter 9. Fencing and STONITH"/><script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"/></noscript><script src="static/js/jquery-1.12.4.min.js" type="text/javascript"> </script><script src="static/js/script.js" type="text/javascript"> </script><script src="static/js/highlight.min.js" type="text/javascript"> </script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script><meta name="edit-url" content="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA12SP4/xml/ha_agents.xml"/></head><body class="draft wide offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-pagination">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><header id="_mainnav"><div class="growth-inhibitor"><img src="static/images/logo.svg" alt="Logo" class="logo"/></div></header><div class="crumbs"><div class="growth-inhibitor"><a class="crumb" href="index.html">Administration Guide</a><span> / </span><a class="crumb" href="part-config.html">Configuration and Administration</a><span> / </span><a class="crumb" href="cha-ha-agents.html">Adding or Modifying Resource Agents</a></div></div><main id="_content"><nav id="_side-toc-overall" class="side-toc"><div class="side-title">Administration Guide</div><ol><li><a href="pre-ha.html" class=" "><span class="title-number"> </span><span class="title-name">About This Guide</span></a></li><li><a href="part-install.html" class="has-children "><span class="title-number">I </span><span class="title-name">Installation and Setup</span></a><ol><li><a href="cha-ha-concepts.html" class=" "><span class="title-number">1 </span><span class="title-name">Product Overview</span></a></li><li><a href="cha-ha-requirements.html" class=" "><span class="title-number">2 </span><span class="title-name">System Requirements and Recommendations</span></a></li><li><a href="cha-ha-install.html" class=" "><span class="title-number">3 </span><span class="title-name">Installing SUSE Linux Enterprise High Availability</span></a></li><li><a href="cha-ha-setup.html" class=" "><span class="title-number">4 </span><span class="title-name">Using the YaST Cluster Module</span></a></li></ol></li><li class="active"><a href="part-config.html" class="has-children you-are-here"><span class="title-number">II </span><span class="title-name">Configuration and Administration</span></a><ol><li><a href="cha-ha-config-basics.html" class=" "><span class="title-number">5 </span><span class="title-name">Configuration and Administration Basics</span></a></li><li><a href="cha-conf-hawk2.html" class=" "><span class="title-number">6 </span><span class="title-name">Configuring and Managing Cluster Resources with Hawk2</span></a></li><li><a href="cha-ha-manual-config.html" class=" "><span class="title-number">7 </span><span class="title-name">Configuring and Managing Cluster Resources (Command Line)</span></a></li><li><a href="cha-ha-agents.html" class=" you-are-here"><span class="title-number">8 </span><span class="title-name">Adding or Modifying Resource Agents</span></a></li><li><a href="cha-ha-fencing.html" class=" "><span class="title-number">9 </span><span class="title-name">Fencing and STONITH</span></a></li><li><a href="cha-ha-storage-protect.html" class=" "><span class="title-number">10 </span><span class="title-name">Storage Protection and SBD</span></a></li><li><a href="cha-ha-acl.html" class=" "><span class="title-number">11 </span><span class="title-name">Access Control Lists</span></a></li><li><a href="cha-ha-netbonding.html" class=" "><span class="title-number">12 </span><span class="title-name">Network Device Bonding</span></a></li><li><a href="cha-ha-lb.html" class=" "><span class="title-number">13 </span><span class="title-name">Load Balancing</span></a></li><li><a href="cha-ha-geo.html" class=" "><span class="title-number">14 </span><span class="title-name">Geo Clusters (Multi-Site Clusters)</span></a></li></ol></li><li><a href="part-storage.html" class="has-children "><span class="title-number">III </span><span class="title-name">Storage and Data Replication</span></a><ol><li><a href="cha-ha-storage-dlm.html" class=" "><span class="title-number">15 </span><span class="title-name">Distributed Lock Manager (DLM)</span></a></li><li><a href="cha-ha-ocfs2.html" class=" "><span class="title-number">16 </span><span class="title-name">OCFS2</span></a></li><li><a href="cha-ha-gfs2.html" class=" "><span class="title-number">17 </span><span class="title-name">GFS2</span></a></li><li><a href="cha-ha-drbd.html" class=" "><span class="title-number">18 </span><span class="title-name">DRBD</span></a></li><li><a href="cha-ha-clvm.html" class=" "><span class="title-number">19 </span><span class="title-name">Cluster Logical Volume Manager (cLVM)</span></a></li><li><a href="cha-ha-cluster-md.html" class=" "><span class="title-number">20 </span><span class="title-name">Cluster Multi-device (Cluster MD)</span></a></li><li><a href="cha-ha-samba.html" class=" "><span class="title-number">21 </span><span class="title-name">Samba Clustering</span></a></li><li><a href="cha-ha-rear.html" class=" "><span class="title-number">22 </span><span class="title-name">Disaster Recovery with Relax-and-Recover (ReaR)</span></a></li></ol></li><li><a href="part-maintenance.html" class="has-children "><span class="title-number">IV </span><span class="title-name">Maintenance and Upgrade</span></a><ol><li><a href="cha-ha-maintenance.html" class=" "><span class="title-number">23 </span><span class="title-name">Executing Maintenance Tasks</span></a></li><li><a href="cha-ha-migration.html" class=" "><span class="title-number">24 </span><span class="title-name">Upgrading Your Cluster and Updating Software Packages</span></a></li></ol></li><li><a href="part-appendix.html" class="has-children "><span class="title-number">V </span><span class="title-name">Appendix</span></a><ol><li><a href="app-ha-troubleshooting.html" class=" "><span class="title-number">A </span><span class="title-name">Troubleshooting</span></a></li><li><a href="app-naming.html" class=" "><span class="title-number">B </span><span class="title-name">Naming Conventions</span></a></li><li><a href="app-ha-management.html" class=" "><span class="title-number">C </span><span class="title-name">Cluster Management Tools (Command Line)</span></a></li><li><a href="app-crmreport-nonroot.html" class=" "><span class="title-number">D </span><span class="title-name">Running Cluster Reports Without <code class="systemitem">root</code> Access</span></a></li><li><a href="app-ha-docupdates.html" class=" "><span class="title-number">E </span><span class="title-name">Documentation Updates</span></a></li></ol></li><li><a href="gl-heartb.html" class=" "><span class="title-number"> </span><span class="title-name">Glossary</span></a></li><li><a href="bk01apf.html" class=" "><span class="title-number">F </span><span class="title-name">GNU licenses</span></a></li> </ol> </nav><button id="_open-side-toc-overall" title="Contents"> </button><article class="documentation"><button id="_unfold-side-toc-page">On this page</button><section class="chapter" id="cha-ha-agents" data-id-title="Adding or Modifying Resource Agents"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname">SUSE Linux Enterprise High Availability</span> <span class="productnumber">12 SP4</span></div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">8 </span><span class="title-name">Adding or Modifying Resource Agents</span></span> <a title="Permalink" class="permalink" href="cha-ha-agents.html#">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA12SP4/xml/ha_agents.xml" title="Edit source document"> </a></div></div></div><div><div class="abstract"><p>
    All tasks that need to be managed by a cluster must be available as a
    resource. There are two major groups here to consider: resource agents
    and STONITH agents. For both categories, you can add your own
    agents, extending the abilities of the cluster to your own needs.
   </p></div></div></div></div><section class="sect1" id="sec-ha-stonithagents" data-id-title="STONITH Agents"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">8.1 </span><span class="title-name">STONITH Agents</span></span> <a title="Permalink" class="permalink" href="cha-ha-agents.html#sec-ha-stonithagents">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA12SP4/xml/ha_agents.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   A cluster sometimes detects that one of the nodes is behaving strangely
   and needs to remove it. This is called <span class="emphasis"><em>fencing</em></span> and
   is commonly done with a STONITH resource.
  </p><div id="id-1.3.4.6.3.3" data-id-title="External SSH/STONITH Are Not Supported" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.svg"/><div class="admon-title">Warning: External SSH/STONITH Are Not Supported</div><p>
    It is impossible to know how SSH might react to other system problems.
    For this reason, external SSH/STONITH agents (like
    <code class="literal">stonith:external/ssh</code>) are not supported for
    production environments. If you still want to use such agents for
    testing, install the
    <code class="systemitem">libglue-devel</code> package.
   </p></div><p>
   To get a list of all currently available STONITH devices (from the
   software side), use the command <code class="command">crm ra list stonith</code>.
   If you do not find your favorite agent, install the
   <code class="systemitem">-devel</code> package.
   For more information on STONITH devices and resource agents,
   see <a class="xref" href="cha-ha-fencing.html" title="Chapter 9. Fencing and STONITH">Chapter 9, <em>Fencing and STONITH</em></a>.
  </p><p>
   As of yet there is no documentation about writing STONITH agents. If
   you want to write new STONITH agents, consult the examples available
   in the source of the
   <code class="systemitem">cluster-glue</code> package.
  </p></section><section class="sect1" id="sec-ha-writingresourceagents" data-id-title="Writing OCF Resource Agents"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">8.2 </span><span class="title-name">Writing OCF Resource Agents</span></span> <a title="Permalink" class="permalink" href="cha-ha-agents.html#sec-ha-writingresourceagents">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA12SP4/xml/ha_agents.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   All OCF resource agents (RAs) are available in
   <code class="filename">/usr/lib/ocf/resource.d/</code>, see
   <a class="xref" href="cha-ha-config-basics.html#sec-ha-config-basics-raclasses" title="5.3.2. Supported Resource Agent Classes">Section 5.3.2, “Supported Resource Agent Classes”</a> for more information.
   Each resource agent must supported the following operations to control
   it:
  </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.3.4.6.4.3.1"><span class="term"><code class="command">start</code>
    </span></dt><dd><p>
      start or enable the resource
     </p></dd><dt id="id-1.3.4.6.4.3.2"><span class="term"><code class="command">stop</code>
    </span></dt><dd><p>
      stop or disable the resource
     </p></dd><dt id="id-1.3.4.6.4.3.3"><span class="term"><code class="command">status</code>
    </span></dt><dd><p>
      returns the status of the resource
     </p></dd><dt id="id-1.3.4.6.4.3.4"><span class="term"><code class="command">monitor</code>
    </span></dt><dd><p>
      similar to <code class="command">status</code>, but checks also for unexpected
      states
     </p></dd><dt id="id-1.3.4.6.4.3.5"><span class="term"><code class="command">validate</code>
    </span></dt><dd><p>
      validate the resource's configuration
     </p></dd><dt id="id-1.3.4.6.4.3.6"><span class="term"><code class="command">meta-data</code>
    </span></dt><dd><p>
      returns information about the resource agent in XML
     </p></dd></dl></div><p>
   The general procedure of how to create an OCF RA is like the following:
  </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Load the file
     <code class="filename">/usr/lib/ocf/resource.d/pacemaker/Dummy</code> as a
     template.
    </p></li><li class="step"><p>
     Create a new subdirectory for each new resource agents to avoid naming
     contradictions. For example, if you have a resource group
     <code class="systemitem">kitchen</code> with the resource
     <code class="systemitem">coffee_machine</code>, add this resource to the directory
     <code class="filename">/usr/lib/ocf/resource.d/kitchen/</code>. To access this
     RA, execute the command <code class="command">crm</code>:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">crm</code> configure primitive coffee_1 ocf:coffee_machine:kitchen ...</pre></div></li><li class="step"><p>
     Implement the different shell functions and save your file under a
     different name.
    </p></li></ol></div></div><p>
   More details about writing OCF resource agents can be found at
   <a class="link" href="http://www.clusterlabs.org/pacemaker/doc/" target="_blank">http://www.clusterlabs.org/pacemaker/doc/</a> in the guide
   <em class="citetitle">Pacemaker Administration</em>. Find
   special information about several concepts at
   <a class="xref" href="cha-ha-concepts.html" title="Chapter 1. Product Overview">Chapter 1, <em>Product Overview</em></a>.
  </p></section><section class="sect1" id="sec-ha-errorcodes" data-id-title="OCF Return Codes and Failure Recovery"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">8.3 </span><span class="title-name">OCF Return Codes and Failure Recovery</span></span> <a title="Permalink" class="permalink" href="cha-ha-agents.html#sec-ha-errorcodes">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA12SP4/xml/ha_error_codes.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  According to the OCF specification, there are strict definitions of the
  exit codes an action must return. The cluster always checks the return
  code against the expected result. If the result does not match the
  expected value, then the operation is considered to have failed and a
  recovery action is initiated. There are three types of failure recovery:
 </p><div class="table" id="id-1.3.4.6.5.4" data-id-title="Failure Recovery Types"><div class="title-container"><div class="table-title-wrap"><div class="table-title"><span class="title-number-name"><span class="title-number">Table 8.1: </span><span class="title-name">Failure Recovery Types </span></span><a title="Permalink" class="permalink" href="cha-ha-agents.html#id-1.3.4.6.5.4">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA12SP4/xml/ha_error_codes.xml" title="Edit source document"> </a></div></div><div class="table-contents"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/><col/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       Recovery Type
      </p>
     </th><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       Description
      </p>
     </th><th style="border-bottom: 1px solid ; ">
      <p>
       Action Taken by the Cluster
      </p>
     </th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       soft
      </p>
     </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       A transient error occurred.
      </p>
     </td><td style="border-bottom: 1px solid ; ">
      <p>
       Restart the resource or move it to a new location.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       hard
      </p>
     </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       A non-transient error occurred. The error may be specific to the
       current node.
      </p>
     </td><td style="border-bottom: 1px solid ; ">
      <p>
       Move the resource elsewhere and prevent it from being retried on the
       current node.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; ">
      <p>
       fatal
      </p>
     </td><td style="border-right: 1px solid ; ">
      <p>
       A non-transient error occurred that will be common to all cluster
       nodes. This means a bad configuration was specified.
      </p>
     </td><td>
      <p>
       Stop the resource and prevent it from being started on any cluster
       node.
      </p>
     </td></tr></tbody></table></div></div><p>
  Assuming an action is considered to have failed, the following table
  outlines the different OCF return codes. It also shows the type of
  recovery the cluster will initiate when the respective error code is
  received.
 </p><div class="table" id="id-1.3.4.6.5.7" data-id-title="OCF Return Codes"><div class="title-container"><div class="table-title-wrap"><div class="table-title"><span class="title-number-name"><span class="title-number">Table 8.2: </span><span class="title-name">OCF Return Codes </span></span><a title="Permalink" class="permalink" href="cha-ha-agents.html#id-1.3.4.6.5.7">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sleha/edit/maintenance/SLEHA12SP4/xml/ha_error_codes.xml" title="Edit source document"> </a></div></div><div class="table-contents"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="1"/><col class="2"/><col class="3"/><col class="4"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       OCF Return Code
      </p>
     </th><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       OCF Alias
      </p>
     </th><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       Description
      </p>
     </th><th style="border-bottom: 1px solid ; ">
      <p>
       Recovery Type
      </p>
     </th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       0
      </p>
     </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       OCF_SUCCESS
      </p>
     </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       Success. The command completed successfully. This is the expected
       result for all start, stop, promote and demote commands.
      </p>
     </td><td style="border-bottom: 1px solid ; ">
      <p>
       soft
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       1
      </p>
     </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       OCF_ERR_­GENERIC
      </p>
     </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       Generic <span class="quote">“<span class="quote">there was a problem</span>”</span> error code.
      </p>
     </td><td style="border-bottom: 1px solid ; ">
      <p>
       soft
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       2
      </p>
     </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       OCF_ERR_ARGS
      </p>
     </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       The resource’s configuration is not valid on this machine (for
       example, it refers to a location/tool not found on the node).
      </p>
     </td><td style="border-bottom: 1px solid ; ">
      <p>
       hard
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       3
      </p>
     </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       OCF_­ERR_­UN­IMPLEMENTED
      </p>
     </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       The requested action is not implemented.
      </p>
     </td><td style="border-bottom: 1px solid ; ">
      <p>
       hard
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       4
      </p>
     </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       OCF_ERR_PERM
      </p>
     </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       The resource agent does not have sufficient privileges to complete
       the task.
      </p>
     </td><td style="border-bottom: 1px solid ; ">
      <p>
       hard
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       5
      </p>
     </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       OCF_ERR_­INSTALLED
      </p>
     </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       The tools required by the resource are not installed on this machine.
      </p>
     </td><td style="border-bottom: 1px solid ; ">
      <p>
       hard
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       6
      </p>
     </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       OCF_ERR_­CONFIGURED
      </p>
     </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       The resource’s configuration is invalid (for example, required
       parameters are missing).
      </p>
     </td><td style="border-bottom: 1px solid ; ">
      <p>
       fatal
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       7
      </p>
     </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       OCF_NOT_­RUNNING
      </p>
     </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       The resource is not running. The cluster will not attempt to stop a
       resource that returns this for any action.
      </p>
      <p>
       This OCF return code may or may not require resource
       recovery—it depends on what is the expected resource status.
       If unexpected, then <code class="literal">soft</code> recovery.
      </p>
     </td><td style="border-bottom: 1px solid ; ">
      <p>
       N/A
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       8
      </p>
     </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       OCF_RUNNING_­MASTER
      </p>
     </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       The resource is running in Master mode.
      </p>
     </td><td style="border-bottom: 1px solid ; ">
      <p>
       soft
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       9
      </p>
     </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       OCF_FAILED_­MASTER
      </p>
     </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       The resource is in Master mode but has failed. The resource will be
       demoted, stopped and then started (and possibly promoted) again.
      </p>
     </td><td style="border-bottom: 1px solid ; ">
      <p>
       soft
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; ">
      <p>
       other
      </p>
     </td><td style="border-right: 1px solid ; ">
      <p>
       N/A
      </p>
     </td><td style="border-right: 1px solid ; ">
      <p>
       Custom error code.
      </p>
     </td><td>
      <p>
       soft
      </p>
     </td></tr></tbody></table></div></div></section></section><nav class="bottom-pagination"><div><a class="pagination-link prev" href="cha-ha-manual-config.html"><span class="pagination-relation">Previous</span><span class="pagination-label"><span class="title-number">Chapter 7 </span>Configuring and Managing Cluster Resources (Command Line)</span></a> </div><div><a class="pagination-link next" href="cha-ha-fencing.html"><span class="pagination-relation">Next</span><span class="pagination-label"><span class="title-number">Chapter 9 </span>Fencing and STONITH</span></a> </div></nav></article><aside id="_side-toc-page" class="side-toc"><div class="side-title">On this page</div><div class="toc"><ul><li><span class="sect1"><a href="cha-ha-agents.html#sec-ha-stonithagents"><span class="title-number">8.1 </span><span class="title-name">STONITH Agents</span></a></span></li><li><span class="sect1"><a href="cha-ha-agents.html#sec-ha-writingresourceagents"><span class="title-number">8.2 </span><span class="title-name">Writing OCF Resource Agents</span></a></span></li><li><span class="sect1"><a href="cha-ha-agents.html#sec-ha-errorcodes"><span class="title-number">8.3 </span><span class="title-name">OCF Return Codes and Failure Recovery</span></a></span></li></ul></div><div class="side-title">Share this page</div><ul class="share"><li><a id="_share-fb" href="#" title="Facebook"> </a></li><li><a id="_share-in" href="#" title="LinkedIn"> </a></li><li><a id="_share-tw" href="#" title="Twitter/X"> </a></li><li><a id="_share-mail" href="#" title="E-Mail"> </a></li><li><a id="_print-button" href="#" title="Print this page"> </a></li></ul> </aside></main><footer id="_footer"><div class="growth-inhibitor"><div class="copy"><span class="copy__rights">© SUSE
                 2023</span></div></div></footer></body></html>